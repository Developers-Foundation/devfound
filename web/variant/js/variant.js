function Variant(){function a(){ub()?($(".vet span").html("Load "+$.localStorage(ac+".vhg")),$(".vhe").removeClass("vih")):$.localStorage(ac+".state.veu")?($(".vet span").removeClass("vih"),$(".vhe").removeClass("vih")):$(".vhd").removeClass("vih"),isSafari&&$(".vah, .vdi, .vgy").remove()}function b(){var a=Kb("demo");if(null!==a){var b=new XMLHttpRequest;b.open("GET","../demos/"+a+".variant",!0),b.responseType="blob",b.onload=function(a){var c=[b.response];ga(c,!0)},b.onerror=function(a){xb("Could not load specified demo file.")},b.send()}}function c(){var a=$("body");Zb=$("#blank-veu").html(),$(".viu").html($("#veu").html()),$b=$("#veu"),_b=$(".viu"),ac="undefined"!==a.attr("mrv_namespace")?a.attr("mrv_namespace"):"mrv_variant.default",bc=a.attr("mrv_contentTarget")?$("#veu "+a.attr("mrv_contentTarget")):$b,cc=a.attr("mrv_contentTarget")?$(".viu "+a.attr("mrv_contentTarget")):_b,dc=a.attr("mrv_navTarget")?$("#veu "+a.attr("mrv_navTarget")):bc,ec=a.attr("mrv_navTarget")?$(".viu "+a.attr("mrv_navTarget")):cc,fc=a.attr("mrv_footerTarget")?$("#veu "+a.attr("mrv_footerTarget")):bc,gc=a.attr("mrv_footerTarget")?$(".viu "+a.attr("mrv_footerTarget")):cc}function d(){var b=window.navigator.userAgent,c=b.indexOf("MSIE "),d=0;(c>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&($("#if-ie").removeClass("vih"),d=1),0===d&&setTimeout(function(){$(".vhc").addClass("vba"),$(".vhv").removeClass("vba"),setTimeout(function(){$(".vhc").remove(),a(),vb()},300)},100)}function e(a){$("head").append('<link class="viw" href="theme/css/'+a+'" rel="alternate stylesheet" type="text/css" media="all">')}function f(){var a;try{a=JSON.parse($(".vaz").html()),$(".vho").eq(2).removeClass("vih"),g("Original",a.original.colours,"theme"),$(".vay").attr("viq",a.original.originalFileName+".css").attr("vhx",a.original.originalFileName+".css"),$(a.schemes).each(function(){g(this.name,this.colours,"theme-"+this.name),e("theme-"+this.name.toLowerCase()+".css")}),$(".viw").remove(),$(".vnb").removeClass("empty-vmd")}catch(b){return}}function g(a,b,c){var d,e="",f=a+": ",g=100/b.length;$(b).each(function(a,b){e+='<div class="vax" style="width: '+g+"%; background-color: "+b+'"></div>',f+=" "+b}),d='<li title="'+f+'" class="vhu" viz="'+c.toLowerCase()+'.css">',$(".vay").append(d+e+"</li>")}function h(a,b){try{colourSchemes=JSON.parse($(".vaz").html());var c=a,d=$('[href*="'+$(".vay").attr("vhx")+'"]').attr("href"),e=$(".vay").attr("vhx");c=d.replace(e,c),$('[href*="'+$(".vay").attr("vhx")+'"]').attr("href",c),$(".vay").attr("vhx",a),b===!0&&gb()}catch(f){}}function i(a){var b,c,d,e;return $("#veu ."+a).attr("vht")?a="parent"===$("#veu ."+a).attr("vht")?$("#veu ."+a).parent().attr("vic"):$("#veu ."+a).closest($("#veu ."+a).attr("vht")).attr("vic"):$("#veu ."+a).closest(".vpe").length&&(a=$("#veu ."+a).closest(".vpe").attr("vic")),b=$(".viu ."+a).not("ul.slides .clone ."+a).clone(),c=$("#veu ."+a).clone(),d=(new Date).getTime(),e="vjs-"+d,b.find(".vnw").remove(),b.attr("vic",e),c.attr("vic",e),b.alterClass("vjs-*",""),c.alterClass("vjs-*",""),b.addClass(e),c.addClass(e),b.find("p, span, a, h1, h2, h3, h4, h5, h6, strong, em, ul, li, div, i, img, iframe, blockquote, figcaption, tbody, tr, td, th, form, label, address").each(function(a){var b="vjs-"+d+"-"+a,c=$(this);c.attr("vic",b),c.alterClass("vjs-*",""),c.addClass(b)}),c.find("p, span, a, h1, h2, h3, h4, h5, h6, strong, em, ul, li, div, i, img, iframe, blockquote, figcaption, tbody, tr, td, th, form, label, address").each(function(a){var b="vjs-"+d+"-"+a,c=$(this);c.attr("vic",b),c.alterClass("vjs-*",""),c.addClass(b)}),b.addClass("vpf").insertAfter($(".viu ."+a)),c.insertAfter($("#veu ."+a)),gb(),$(".vhw").hide(),$("#veu ."+a).is(jc)?void pc(a):void $(".viu ."+a).parents().each(function(){return $(this).is(kc)?(pc(a),!1):void 0})}function j(a,b){var c="undefined"!=typeof b?b:!1,d=$(".viu ."+a).parents(),e=$("#veu ."+a).is(jc)?!0:!1;$("#veu ."+a).attr("vht")?a="parent"===$("#veu ."+a).attr("vht")?$("#veu ."+a).parent().attr("vic"):$("#veu ."+a).closest($("#veu ."+a).attr("vht")).attr("vic"):$("#veu ."+a).closest(".vpe").length&&(a=$("#veu ."+a).closest(".vpe").attr("vic")),$("#veu ."+a).attr("vjw")?also=$("#veu ."+a).closest("nav, section, header, footer").find($("#veu ."+a).attr("vjw")).attr("vic"):also=a,c===!0&&($(".viu ."+a).remove(),$("#veu ."+a).remove()),$(".vdv").length?($(".viu ."+a+", .viu ."+also).addClass("vjb").removeClass("vjm"),$("#veu ."+a+", #veu ."+also).addClass("vjb").removeClass("vjm")):($(".viu ."+a+", .viu ."+also).addClass("vib").removeClass("vjm"),$("#veu ."+a+", #veu ."+also).addClass("vib").removeClass("vjm")),e?pc(a):d.each(function(){return $(this).is(kc)?(pc(a),!1):void 0}),gb(),$(".vhw").hide()}function k(a){var b=$("#veu ."+a),c=$(".viu ."+a),d=$("#veu ."+Nb(b)),e=$(".viu ."+Nb(c));b.is(":first-child")||(b.detach().insertBefore(d),c.detach().find(".vnw").remove(),c.insertBefore(e),gb(),b.is(jc)?pc(a):c.parents().each(function(){return $(this).is(kc)?(pc(a),!1):void 0}))}function l(a){var b=$("#veu ."+a),c=$(".viu ."+a),d=b.next(),e=c.next();b.is(":last-child")||(b.detach().insertAfter(d),c.detach().find(".vnw").remove(),c.insertAfter(e),gb(),b.is(jc)?pc(a):c.parents().each(function(){return $(this).is(kc)?(pc(a),!1):void 0}))}function m(a){if($(a).siblings().length)return void $(a).remove();if($(a).parent().length){var b=$(a).parent();return $(a).remove(),m(b)}}function n(a){var b=$("."+a);if($(b).is("p , div, span, figure, article, img"))if($(b).is('[class*="medium-"]')||$(b).parent().is('div [class*="medium-"]')){if($(b).parent().is('div [class*="medium-"]')&&(b=$(b).parent()),!$(b).hasClass("medium-12")){if(b.hasClass("medium-11"))return void b.removeClass("medium-11").addClass("medium-12");if(b.hasClass("medium-10"))return void b.removeClass("medium-10").addClass("medium-11");if(b.hasClass("medium-9"))return void b.removeClass("medium-9").addClass("medium-10");if(b.hasClass("medium-8"))return void b.removeClass("medium-8").addClass("medium-9");if(b.hasClass("medium-7"))return void b.removeClass("medium-7").addClass("medium-8");if(b.hasClass("medium-6"))return void b.removeClass("medium-6").addClass("medium-7");if(b.hasClass("medium-5"))return void b.removeClass("medium-5").addClass("medium-6");if(b.hasClass("medium-4"))return void b.removeClass("medium-4").addClass("medium-5");if(b.hasClass("medium-3"))return void b.removeClass("medium-3").addClass("medium-4");if(b.hasClass("medium-2"))return void b.removeClass("medium-2").addClass("medium-3");if(b.hasClass("medium-1"))return void b.removeClass("medium-1").addClass("medium-2")}}else if($(b).is('[class*="col-xs-"]:not([class*="col-md-"])')||$(b).parent().is('div [class*="col-xs-"]:not([class*="col-md-"])')){if($(b).parent().is('div [class*="col-xs-"]:not([class*="col-md-"])')&&(b=$(b).parent()),!$(b).hasClass("col-xs-12")){if(b.hasClass("col-xs-11"))return void b.removeClass("col-xs-11").addClass("col-xs-12");if(b.hasClass("col-xs-10"))return void b.removeClass("col-xs-10").addClass("col-xs-11");if(b.hasClass("col-xs-9"))return void b.removeClass("col-xs-9").addClass("col-xs-10");if(b.hasClass("col-xs-8"))return void b.removeClass("col-xs-8").addClass("col-xs-9");if(b.hasClass("col-xs-7"))return void b.removeClass("col-xs-7").addClass("col-xs-8");if(b.hasClass("col-xs-6"))return void b.removeClass("col-xs-6").addClass("col-xs-7");if(b.hasClass("col-xs-5"))return void b.removeClass("col-xs-5").addClass("col-xs-6");if(b.hasClass("col-xs-4"))return void b.removeClass("col-xs-4").addClass("col-xs-5");if(b.hasClass("col-xs-3"))return void b.removeClass("col-xs-3").addClass("col-xs-4");if(b.hasClass("col-xs-2"))return void b.removeClass("col-xs-2").addClass("col-xs-3");if(b.hasClass("col-xs-1"))return void b.removeClass("col-xs-1").addClass("col-xs-2")}}else if($(b).is('[class*="col-sm-"]:not([class*="col-md-"])')||$(b).parent().is('div [class*="col-sm-"]:not([class*="col-md-"])')){if($(b).parent().is('div [class*="col-sm-"]:not([class*="col-md-"])')&&(b=$(b).parent()),!$(b).hasClass("col-sm-12")){if(b.hasClass("col-sm-11"))return void b.removeClass("col-sm-11").addClass("col-sm-12");if(b.hasClass("col-sm-10"))return void b.removeClass("col-sm-10").addClass("col-sm-11");if(b.hasClass("col-sm-9"))return void b.removeClass("col-sm-9").addClass("col-sm-10");if(b.hasClass("col-sm-8"))return void b.removeClass("col-sm-8").addClass("col-sm-9");if(b.hasClass("col-sm-7"))return void b.removeClass("col-sm-7").addClass("col-sm-8");if(b.hasClass("col-sm-6"))return void b.removeClass("col-sm-6").addClass("col-sm-7");if(b.hasClass("col-sm-5"))return void b.removeClass("col-sm-5").addClass("col-sm-6");if(b.hasClass("col-sm-4"))return void b.removeClass("col-sm-4").addClass("col-sm-5");if(b.hasClass("col-sm-3"))return void b.removeClass("col-sm-3").addClass("col-sm-4");if(b.hasClass("col-sm-2"))return void b.removeClass("col-sm-2").addClass("col-sm-3");if(b.hasClass("col-sm-1"))return void b.removeClass("col-sm-1").addClass("col-sm-2")}}else if(($(b).is('[class*="col-md-"]')||$(b).parent().is('div [class*="col-md-"]'))&&($(b).parent().is('div [class*="col-md-"]')&&(b=$(b).parent()),!$(b).hasClass("col-md-12"))){if(b.hasClass("col-md-11"))return void b.removeClass("col-md-11").addClass("col-md-12");if(b.hasClass("col-md-10"))return void b.removeClass("col-md-10").addClass("col-md-11");if(b.hasClass("col-md-9"))return void b.removeClass("col-md-9").addClass("col-md-10");if(b.hasClass("col-md-8"))return void b.removeClass("col-md-8").addClass("col-md-9");if(b.hasClass("col-md-7"))return void b.removeClass("col-md-7").addClass("col-md-8");if(b.hasClass("col-md-6"))return void b.removeClass("col-md-6").addClass("col-md-7");if(b.hasClass("col-md-5"))return void b.removeClass("col-md-5").addClass("col-md-6");if(b.hasClass("col-md-4"))return void b.removeClass("col-md-4").addClass("col-md-5");if(b.hasClass("col-md-3"))return void b.removeClass("col-md-3").addClass("col-md-4");if(b.hasClass("col-md-2"))return void b.removeClass("col-md-2").addClass("col-md-3");if(b.hasClass("col-md-1"))return void b.removeClass("col-md-1").addClass("col-md-2")}gb()}function o(a){var b=$("."+a);if($(b).is("p , div, span, figure, article, img"))if($(b).is('[class*="medium-"]')||$(b).parent().is('div [class*="medium-"]')){if($(b).parent().is('div [class*="medium-"]')&&(b=$(b).parent()),!$(b).hasClass("medium-1")){if(b.hasClass("medium-12"))return void b.removeClass("medium-12").addClass("medium-11");if(b.hasClass("medium-11"))return void b.removeClass("medium-11").addClass("medium-10");if(b.hasClass("medium-10"))return void b.removeClass("medium-10").addClass("medium-9");if(b.hasClass("medium-9"))return void b.removeClass("medium-9").addClass("medium-8");if(b.hasClass("medium-8"))return void b.removeClass("medium-8").addClass("medium-7");if(b.hasClass("medium-7"))return void b.removeClass("medium-7").addClass("medium-6");if(b.hasClass("medium-6"))return void b.removeClass("medium-6").addClass("medium-5");if(b.hasClass("medium-5"))return void b.removeClass("medium-5").addClass("medium-4");if(b.hasClass("medium-4"))return void b.removeClass("medium-4").addClass("medium-3");if(b.hasClass("medium-3"))return void b.removeClass("medium-3").addClass("medium-2");if(b.hasClass("medium-2"))return void b.removeClass("medium-2").addClass("medium-1")}}else if($(b).is('[class*="col-xs-"]:not([class*="col-md-"])')||$(b).parent().is('div [class*="col-xs-"]:not([class*="col-md-"])')){if($(b).parent().is('div [class*="col-xs-"]:not([class*="col-md-"])')&&(b=$(b).parent()),!$(b).hasClass("col-xs-1")){if(b.hasClass("col-xs-12"))return void b.removeClass("col-xs-12").addClass("col-xs-11");if(b.hasClass("col-xs-11"))return void b.removeClass("col-xs-11").addClass("col-xs-10");if(b.hasClass("col-xs-10"))return void b.removeClass("col-xs-10").addClass("col-xs-9");if(b.hasClass("col-xs-9"))return void b.removeClass("col-xs-9").addClass("col-xs-8");if(b.hasClass("col-xs-8"))return void b.removeClass("col-xs-8").addClass("col-xs-7");if(b.hasClass("col-xs-7"))return void b.removeClass("col-xs-7").addClass("col-xs-6");if(b.hasClass("col-xs-6"))return void b.removeClass("col-xs-6").addClass("col-xs-5");if(b.hasClass("col-xs-5"))return void b.removeClass("col-xs-5").addClass("col-xs-4");if(b.hasClass("col-xs-4"))return void b.removeClass("col-xs-4").addClass("col-xs-3");if(b.hasClass("col-xs-3"))return void b.removeClass("col-xs-3").addClass("col-xs-2");if(b.hasClass("col-xs-2"))return void b.removeClass("col-xs-2").addClass("col-xs-1")}}else if($(b).is('[class*="col-sm-"]:not([class*="col-md-"])')||$(b).parent().is('div [class*="col-sm-"]:not([class*="col-md-"])')){if($(b).parent().is('div [class*="col-sm-"]:not([class*="col-md-"])')&&(b=$(b).parent()),!$(b).hasClass("col-sm-1")){if(b.hasClass("col-sm-12"))return void b.removeClass("col-sm-12").addClass("col-sm-11");if(b.hasClass("col-sm-11"))return void b.removeClass("col-sm-11").addClass("col-sm-10");if(b.hasClass("col-sm-10"))return void b.removeClass("col-sm-10").addClass("col-sm-9");if(b.hasClass("col-sm-9"))return void b.removeClass("col-sm-9").addClass("col-sm-8");if(b.hasClass("col-sm-8"))return void b.removeClass("col-sm-8").addClass("col-sm-7");if(b.hasClass("col-sm-7"))return void b.removeClass("col-sm-7").addClass("col-sm-6");if(b.hasClass("col-sm-6"))return void b.removeClass("col-sm-6").addClass("col-sm-5");if(b.hasClass("col-sm-5"))return void b.removeClass("col-sm-5").addClass("col-sm-4");if(b.hasClass("col-sm-4"))return void b.removeClass("col-sm-4").addClass("col-sm-3");if(b.hasClass("col-sm-3"))return void b.removeClass("col-sm-3").addClass("col-sm-2");if(b.hasClass("col-sm-2"))return void b.removeClass("col-sm-2").addClass("col-sm-1")}}else if(($(b).is('[class*="col-md-"]')||$(b).parent().is('div [class*="col-md-"]'))&&($(b).parent().is('div [class*="col-md-"]')&&(b=$(b).parent()),!$(b).hasClass("col-md-1"))){if(b.hasClass("col-md-12"))return void b.removeClass("col-md-12").addClass("col-md-11");if(b.hasClass("col-md-11"))return void b.removeClass("col-md-11").addClass("col-md-10");if(b.hasClass("col-md-10"))return void b.removeClass("col-md-10").addClass("col-md-9");if(b.hasClass("col-md-9"))return void b.removeClass("col-md-9").addClass("col-md-8");if(b.hasClass("col-md-8"))return void b.removeClass("col-md-8").addClass("col-md-7");if(b.hasClass("col-md-7"))return void b.removeClass("col-md-7").addClass("col-md-6");if(b.hasClass("col-md-6"))return void b.removeClass("col-md-6").addClass("col-md-5");if(b.hasClass("col-md-5"))return void b.removeClass("col-md-5").addClass("col-md-4");if(b.hasClass("col-md-4"))return void b.removeClass("col-md-4").addClass("col-md-3");if(b.hasClass("col-md-3"))return void b.removeClass("col-md-3").addClass("col-md-2");if(b.hasClass("col-md-2"))return void b.removeClass("col-md-2").addClass("col-md-1")}gb()}function p(a){var b,c,d,e,f,g,h,i,j,k=new JSZip,l=[],m=new Date;return $("#vhl .viy").length?("all"===a?($("#vhl .viy").each(function(){l.push($(this).attr("viy"))}),b="variant-exported-"+Ib(m.toDateString())):l.push(a),l.forEach(function(a,b){c=$.localStorage(ac+".state.veu."+a),f=$.localStorage(ac+".state.vem."+a)||"",colourScheme=$.localStorage(ac+".vhf."+a),fontOption=$.localStorage(ac+"vmp."+a),bodyClasses=$.localStorage(ac+".vkp."+a)||"",pageName=$('#vhl [viy="'+a+'"]').attr("vjh")||"",pageTitle=$('#vhl [viy="'+a+'"]').attr("page-title"),pageTitle="undefined"!=typeof pageTitle?pageTitle:"",d=$.localStorage(ac+".state.page-meta-description-mrv."+a)||"",e=$.localStorage(ac+".state.page-google-analytics-id-mrv."+a)||"",g={stateID:a,templateName:ac,pageName:pageName,pageTitle:pageTitle,colourScheme:colourScheme,fontOption:fontOption,bodyClasses:bodyClasses,layoutMap:f,masterHtml:c,metaDescription:d,googleAnalyticsID:e},h=JSON.stringify(g),k.file(Ib(pageName)+"-"+m.getTime()+".page",h)}),k.file(ac+".navs",$("#vbn").html()),k.file(ac+".footers",$("#vbl").html()),"all"!==a&&(b=Ib(pageName)),isSafari&&(j=k.generate({type:"base64",compression:"deflate"}),$.localStorage("allpages",j)),void(isSafari||(i=k.generate({type:"blob",compression:"deflate"}),saveAs(i,b+".variant")))):void xb("Export .variant file","There is nothing to export.<br /><br />Save at least one page before exporting.")}function q(){var a;try{a=JSON.parse($(".vmq").html()),$(".vmy").removeClass("vih"),$(".vmz").text(a.title),r(a.originalSet),$(a.optionalSets).each(function(){r(this)}),$(".vnb").removeClass("empty-vmd")}catch(b){return}}function r(a){var b=$("<li>").addClass("vmv").attr("vmw",a.setName);a.css.length>0?b.attr("vmo",a.css):b.attr("vmo","vir"),$(a.fonts).each(function(){b.append($("<img>").attr("src","img/fonts/"+Ib(this.fontName)+".png"))}),$(".vms").append(b)}function s(a,b){try{var c=(JSON.parse($(".vmq").html()),$("[vmw="+a+"]").attr("vmo"));$("head link.vmx").remove(),$("head").append('<link class="vmx" href="'+c+'" rel="stylesheet" type="text/css">').append('<link class="vmx" href="../css/font-'+Ib(a)+'.css" rel="stylesheet" type="text/css">'),$(".vms").attr("vmr",a),$(".vmv.vhr").removeClass("vhr"),$('.vmv[vmw="'+a+'"]').addClass("vhr"),b===!0&&gb()}catch(d){}}function t(){var a=B(),b=a.attr("vhy");$("#veu ."+b).html(a.html()),$("#vbl ."+b).html(a.html()),$("#vbl .vjb").removeClass("vjb"),$.localStorage(ac+".vbm",$("#vbl").html())}function u(a){$(".vfb").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vfy").val(""),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function v(){var a,b=(new Date).getTime(),c="vhy-"+b,d=$(".vfz").val();$(".vdm").closest(".vho").find(".vly").text(d),$(".vfz").val(""),$("#veu footer").removeClass("vir").addClass("vhz").addClass(c).attr("vhy",c).attr("vie",d),$(".viu footer").removeClass("vir").addClass("vhz").addClass(c).attr("vhy",c).attr("vie",d),$("#vbl").append($("#veu footer").clone()),a=$("#vbl").html(),$.localStorage(ac+".vbm",a),w($("."+c))}function w(a){$(".vdm").append('<li class="vdl" vid="'+$(a).attr("vhy")+'" vdn="'+$(a).attr("vhy")+'" vit="vhz"><span>'+$(a).attr("vie")+'</span><span class="vbx oi" data-glyph="x"></span></li>')}function x(){$("#vbl").append($.localStorage(ac+".vbm")),$("#vbl footer").each(function(){w($(this))})}function y(a,b){var c=(A(),B()),d=C(),e=D(),f=b===!0?!0:!1,g="";e.remove(),c.remove(),$("#vbl [vhy="+a+"]").length?(g=Ob($("#vbl [vhy="+a+"]").get(0),!0),d.append(g),F(E(a))):$("#vdk section#"+a).length?(g=$("#vdk section#"+a).html(),d.append(g),d.find("footer").addClass("vir").attr("footer-id",a),Wa(d.find("footer")),F(E(a))):F(defaults.ui.sidebar.footerOptionsListText),f&&(gb(),pc())}function z(){$("#veu footer").remove(),$(".viu footer").remove(),vb(),wb(),gb(),pc()}function A(){return $(gc.selector)}function B(){return A().find("footer").first()}function C(){return $(fc.selector)}function D(){return C().find("footer").first()}function E(a){return $('[vhy="'+a+'"]').attr("vie")||$("#vdk #"+a).attr("vbr")}function F(a){var b=$(".vdm").siblings(".vly");_.isUndefined(a)?b.text(defaults.ui.sidebar.footerOptionsListText):b.text(a)}function G(){var a,b=$("<div>").append($(".vpi").val()),c=$("#veu").find("."+$(".vpj").val()),d=c.closest("section"),e="",f=null,g=null;return $(lc).each(function(a,b){e+=(a>0?", ":" ")+b.name}),$(b).find("form[action]:first").length?(g=$(b).find("form[action]:first"),$(lc).each(function(a,b){return g.attr("action").toLowerCase().includes(b.action)?(f=b.handler,!1):void 0}),f?(a=f(b,c),a?(a.insertBefore(c),j(c.attr("vic")),Wa(d),pc(c.attr("vic")),!0):!1):(zb("Please use an embed code from: "+e+".","warning",null,7e3),!1)):(zb("No valid form found in your embed code.","warning"),!1)}function H(a,b){var c=$(a).find("form[action]:first"),d=$("<form></form>"),e=!1,f=!1,g=null,h=null,i=!1,j=null,k=null,l=null,m=null,n=null;return k=b.find('input[type="text"]:first').parent(),k.is('[class*="col-sm-"], [class*="col-md-"]')&&(l=!0,g=$("<div>").addClass(k.attr("class")).alterClass("vjs-*","")),b.find('[class*="col-"] [type="submit"]').length&&(m=!0,h=$("<div>").addClass(b.find('[type="submit"]').parent().attr("class")).alterClass("vjs-*","")),b.find("div.input-with-icon").length&&(f=$("<div>").addClass("input-with-icon"),k=b.find("div.input-with-icon").parent(),k.is('[class*="col-sm-"], [class*="col-md-"]')&&(n=!0,g=$("<div>").addClass(k.attr("class")).alterClass("vjs-*",""),f.wrap(g)),j=b.find("div.input-with-icon:first i"),j.clone().appendTo(f),f.children().removeAttr("vic"),f.children().alterClass("vjs-*",""),f.find("input").remove(),e=!0),b.is(".form--merge")&&(i=!0,c.find('input[type="email"], input[type="text"]').not('[tabindex="-1"]').length>1)?(zb('The form you are embedding will not fit. Use "Super Slim" form instead.',"warning"),null):(d.attr("class",b.attr("class")),d.alterClass("vjs-*",""),d.attr("action",c.attr("action")),c.find("input, textarea, select").length?(c.find("label, input, textarea").each(function(){var a=$(this),j=null,k=null,o=null;if(a.parent().is('[aria-hidden="true"]'))a.removeAttr("id"),j=a.parent().clone(),j.appendTo(d),d.find('[aria-hidden="true"]').addClass("hidden");else if(e===!0)if(a.is('input[type="text"], input[type="email"]'))j=f.clone(),k=j.find("i:first"),c.find('label[for="'+a.attr("id")+'"]').insertBefore(k),a.insertAfter(k),n===!0?g.clone().append(j).appendTo(d):j.appendTo(d);else if(a.is("label")){if(d.find('.input-with-icon input[id="'+a.attr("for")+'"]'))return!0}else a.is('[type="submit"]')&&(o=a.clone(),i&&(o.attr("class",b.find('[type="submit"]').attr("class")),o.alterClass("validate-*",""),o.alterClass("vjs-*","")),m===!0?h.clone().append(o.removeAttr("id")).appendTo(d):o.removeAttr("id").appendTo(d));else o=a.clone(),i&&(a.is('[type="submit"]')?o.attr("class",b.find('[type="submit"]').attr("class")):o.attr("class",b.find('input[type="'+o.attr("type")+'"]').attr("class")),o.alterClass("validate-*",""),o.alterClass("vjs-*","")),l===!0?g.clone().append(o.removeAttr("id")).appendTo(d):o.removeAttr("id").appendTo(d)}),d):(zb("No valid form elements found in the provided embed code.","warning"),null))}function I(a,b){var c=$(a).find("form[action]:first"),d=$("<form></form>"),e=!1,f=!1,g=null,h=null,i=!1,j=null,k=null,l=null,m=null,n=null;return k=b.find('input[type="text"]:first').parent(),k.is('[class*="col-sm-"], [class*="col-md-"]')&&(l=!0,g=$("<div>").addClass(k.attr("class")).alterClass("vjs-*","")),b.find('[class*="col-"] [type="submit"]').length&&(m=!0,h=$("<div>").addClass(b.find('[type="submit"]').parent().attr("class")).alterClass("vjs-*","")),b.find("div.input-with-icon").length&&(f=$("<div>").addClass("input-with-icon"),k=b.find("div.input-with-icon").parent(),k.is('[class*="col-sm-"], [class*="col-md-"]')&&(n=!0,g=$("<div>").addClass(k.attr("class")).alterClass("vjs-*",""),f.wrap(g)),j=b.find("div.input-with-icon:first i"),j.clone().appendTo(f),f.children().removeAttr("vic"),f.children().alterClass("vjs-*",""),f.find("input").remove(),e=!0),b.is(".form--merge")&&(i=!0,c.find('input[type="email"], input[type="text"]').not('[tabindex="-1"]').length>1)?(zb("The form you are embedding will not fit. Use a single field instead.","warning"),null):(d.attr("class",b.attr("class")),d.alterClass("vjs-*",""),d.removeAttr("vic"),d.attr("action",c.attr("action")),c.find("input, textarea, select").length?(c.find('label, input, textarea, button[type="submit"]').each(function(){var a=$(this),j=null,k=null,o=null;if(a.parent().is('[aria-hidden="true"]'))a.removeAttr("id"),j=a.parent().clone(),j.appendTo(d),d.find('[aria-hidden="true"]').addClass("hidden");else if(e===!0)if(a.is('input[type="text"], input[type="email"]'))j=f.clone(),k=j.find("i:first"),c.find('label[for="'+a.attr("id")+'"]').insertBefore(k),a.insertAfter(k),n===!0?g.clone().append(j).appendTo(d):j.appendTo(d);else if(a.is("label")){if(d.find('.input-with-icon input[id="'+a.attr("for")+'"]'))return!0}else a.is('[type="submit"]')&&(o=a.clone(),i&&(o.attr("class",b.find('[type="submit"]').attr("class")),o.alterClass("validate-*",""),o.alterClass("vjs-*","")),m===!0?h.clone().append(o.removeAttr("id")).appendTo(d):o.removeAttr("id").appendTo(d));else o=a.clone(),i&&(a.is('[type="submit"]')?o.attr("class",b.find('[type="submit"]').attr("class")):o.attr("class",b.find('input[type="'+o.attr("type")+'"]').attr("class")),o.alterClass("validate-*",""),o.alterClass("vjs-*","")),l===!0?g.clone().append(o.removeAttr("id")).appendTo(d):o.removeAttr("id").appendTo(d)}),d):(zb("No valid form elements found in the provided embed code.","warning"),null))}function J(a){var b,c,d,e,f,g=$('<div id="vjk" />').html(lb(a)),h=mb(a),i=(qb(a),ob(a)),j=pb(a),k="";return Vb.options&&Vb.options.forEach(function(a){"undefined"!=typeof a.disposableSelector&&(k=k+" "+a.disposableSelector.replace(".",""))}),g.find("h1:empty, h2:empty, h3:empty, h4:empty, h5:empty, h6:empty, a:empty, p:empty, span:empty, li:empty, em:empty, strong:empty, blockquote:empty, figcaption:empty, table:empty, label:empty").not(".in-page-link").addClass("vib"),g.find(".vib, .vjb").each(function(){m($(this))}),g.find("div.row:not(:has(>div, >p, >h1, >h2, >h3, >h4, >h5, >h6, >span, >ul, >li, >strong, >em, >a, >i, >img, >figure, >video, >iframe, >form, >input, >button, >textarea, >blockquote, >figcaption, >table, >form, >label, >address))").remove(),g.find(".vjd:not(:has(>div, >p, >h1, >h2, >h3, >h4, >h5, >h6, >span, >ul, >li, >strong, >em, >a, >i, >img, >figure, >video, >iframe, >form, >button, >input, >textarea, >blockquote, >figcaption, >table, >form, >label, >address))").remove(),$(g).find("p, span, li, ul, h1, h2, h3, h4, h5, h6, nav, header, footer, strong, em, a, section, div, i, img, figure, video, iframe, form, input, button, textarea, blockquote, figcaption, tbody, tr, td, th, label, address").removeAttr("vbq").removeClass("vrh").removeClass("vjm vjb").removeClass("vhz").removeClass("vir").alterClass("vjs-*","").alterClass("variant-*","").removeClass("vjd").removeClass("voz").removeClass("viv").removeClass("lightbox-gallery-mrv").removeClass("veo").removeClass("vlk").removeClass("ven").removeClass("vjy").removeClass("vdw").removeAttr("vic").removeClass("vjx").removeClass("vog").removeClass("voh").removeAttr("vij").removeAttr("vik").removeAttr("contenteditable").removeAttr("data-vip").removeAttr("vli").removeAttr("vht").removeAttr("vjw").removeAttr("vii").removeAttr("style").removeAttr("nav-id").removeAttr("footer-id").removeClass("ui-sortable").removeClass(k).removeClass("vns").removeClass("vnx").removeClass("vpd").removeClass("vnn").removeClass("vpe").removeAttr("vqj"),$(g).find("nav, header").alterClass("via-*","").removeAttr("via").removeAttr("vio").removeAttr("style"),$(g).find("footer").alterClass("vhy-*","").removeAttr("vhy").removeAttr("vie"),$(g).find('*[class=""]').removeAttr("class"),b=$("#vji").html(),b=String(b).replace("[title]",h),b=String(b).replace(tb(),qb(a)),f=P(b,j),b=f?f:b,b=Q(b,i),c=$(g).html().replace(/\n/g,"\n		").replace(/\n\n/g,"\n").replace(/\n\t\t><section/g,">\n			<section").replace(/\n\t\t<header/g,"\n			<header").replace(/\t\t\t<\/header></g,"			</header>\n			<").replace(/\t\t\t<\/section></g,"			</section>\n			<").replace(/<\/a><section/g,"</a>\n			\n			<section").replace(/<\/a><header/g,"</a>\n			\n			<header").replace(/<\/section>\n\t\t\t<a/g,"</section>\n			\n			<a").replace(/<\/header>\n\t\t\t<a/g,"</header>\n			\n			<a").replace(/\t\t\t<\/section>\n\t\t\t<\/div>/g,"			</section>\n		</div>").replace(/\t\t\t<\/header>\n\t\t\t<\/div>/g,"			</header>\n		</div>").replace(/\t\t\t<\/header>\n\t\t\t<section/g,"			</header>\n			\n			<section").replace(/\t\t\t<\/section>\n\t\t\t<header/g,"			</section>\n			\n			<header").replace(/\t\t\t<\/section>\n\t\t\t<section/g,"			</section>\n			\n			<section").replace(/\t\t\t<\/header>\n\t\t\t<header/g,"			</header>\n			\n			<header"),c=Jb(c),d=$("#vif").html(),b=K(b,c,d),b=L(b,c,d),b=R(a,b),d=M(b,c,d),d=S(a,d),e=String(b+c+d),e=String(e).replace(/\.\.\/img\//g,"img/").replace(/\.\.\/video\//g,"video/").replace(/delay-src/g,"src").replace(/no-src/g,"src")}function K(a,b,c){var d=a;return Sb.forEach(function(a,e){var f,g,h,i,j;f=$("<textarea>").append(b).append(c),g=$("<div>").html(f.text()),d=d.replace("\n        "+a.headString.replace(/&quot;/g,'"')+"\n","\n"),d=d.replace(a.headString.replace(/&quot;/g,'"')+"\n",""),i="undefined"!=typeof a.iconClass&&""!==a.iconClass?'i[class*="'+a.iconClass+'"]':"",j="undefined"!=typeof a.iconPrefix&&""!==a.iconPrefix?(""!==i?",":"")+'i[class*="'+a.iconPrefix+'"]':"",h="undefined"!=typeof a.requiredBy&&""!==a.requiredBy?(i+j!==""?",":"")+a.requiredBy:"",$(g).find(i+j+h).length&&(d=d.replace("\n        &lt;link ","\n        "+a.headString+"\n        &lt;link "))}),d}function L(a,b,c){var d=a;return Tb.forEach(function(a,e){var f=$("<textarea>").append(b).append(c),g=$("<div>").html(f.text());$(g).find(a.requiredBy).length||(d=d.replace(a.styleRef,"\n").replace(/\n[ ]+\n/g,""))}),d}function M(a,b,c){var d=c;return Ub.forEach(function(a,e){var f=$("<textarea>").append(b).append(c),g=$("<div>").html(f.text());$(g).find(a.requiredBy).length||(d=d.replace(a.scriptRef,"\n").replace(/\n[ ]+\n/g,""))}),d}function N(){var a;if($("#vpb").length)try{return a=JSON.parse($("#vpb").html()).dynamicCSS}catch(b){return[]}}function O(){var a;if($("#vpa").length)try{return a=JSON.parse($("#vpa").html()).dynamicScripts}catch(b){return[]}}function P(a,b){var c=a.replace(/(\r\n|\n|\r)/gm,","),d=c.split(","),e=!1,f=a;return b=" "===b?"":b,-1===a.indexOf("[optional-body-classes]")?a:(d.forEach(function(c){-1!==c.indexOf("[optional-body-classes]")&&(""!==b?-1!==c.indexOf('class="')?(f=String(a).replace("[optional-body-classes]",b),e=!0):(f=String(a).replace("[optional-body-classes]",'class="'+b+'"'),e=!0):(f=String(a).replace(" [optional-body-classes]",""),f=String(f).replace("[optional-body-classes]",""),e=!0))}),e?f:void 0)}function Q(a,b){var c,d=a,e="";return!_.isUndefined(b)&&b.length>0&&"vir"!==$('.vmv[vmw="'+b+'"]').attr("vmo")&&(e=$('.vmv[vmw="'+b+'"]').attr("vmo"),c='&#13;&#10;        &lt;link href="'+e+'" rel="stylesheet" type="text/css"&gt;&#13;&#10;',c+='        &lt;link href="css/font-'+Ib(b)+'.css" rel="stylesheet" type="text/css"&gt;&#13;&#10;    &lt;/head&gt;\n',d=d.replace(/\t\&lt;\/head\&gt;/g,c),d=d.replace(/[\s]*\&lt;\/head\&gt;/g,c)),d}function R(a,b){var c=b,d=sb(a);return"string"==typeof d&&""!==d?(d="&lt;meta name=&quot;description&quot; content=&quot;"+Jb(Jb(d))+"&quot;/&gt;",c.replace("&lt;/title&gt;","&lt;/title&gt;&#13;&#10;        "+d)):b}function S(a,b){var c="&lt;script&gt; (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', '{{TRACKING-ID}}', 'auto'); ga('send', 'pageview'); &lt;/script&gt;",d=rb(a);return"string"==typeof d&&""!==d?(c=c.replace("{{TRACKING-ID}}",d),b.replace("&lt;/body&gt;","&nbsp;&nbsp;&nbsp;&nbsp;"+c+"\n&lt;/body&gt;")):b}function T(){var a,b="",c=$('<ul class="voj">'),d=$('<ul class="vrj">');if($("#voi").length)try{return a=JSON.parse($("#voi").html()).iconPacks,a.forEach(function(a){c.append($("<li><span>"+a.name+"</span></li>")),b='<li class="vou"><span class="vot">'+a.name+'</span> <span class="vom">'+a.icons.length+' icons </span><span class="voo"><a target="_blank" href="'+a.url+'">more info</a></span></li>',b+='<li class="vov">',a.icons.forEach(function(c){b+='<div class="vam" von="'+c.toLowerCase().replace(a.iconPrefix,"")+'"><i class="icon '+a.iconClass+" "+c+'" icon-class="'+a.iconClass+" "+c+'" title="'+c+'"></i></div>'}),b+="</li>",d.append(b)}),$(c).find("li:first").addClass("vhr"),$(d).find("li.vou:first, li.vov:first").addClass("vhr"),
$(".vce").html("").append(c).append(d),a}catch(e){return JSON.parse('{"iconPacks":[]}')}}function U(a,b,c,d){var e,f="string"==typeof c&&""!==c?c:"div",g="undefined"!=typeof d&&"string"==typeof d&&""!==d?d+" ":"";return e=$("<"+f+' data-glyph="'+a+'" class="'+g+'oi vnv" title="'+b+'"></'+f+">")}function V(a){$(".vcd").modal({autoResize:!0,overlayClose:!0,opacity:0,minHeight:620,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$("#vgo").val(a),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),Y(),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function W(a){$(".vce").addClass("vri"),$(".vcd ul.vrj div.vam").addClass("vih"),$(".vcd ul.vrj div.vam span.vor").remove(),$('.vcd ul.vrj div.vam[von*="'+a+'"]').each(function(){choosableIcon=$(this),choosableIcon.append('<span class="vor">'+choosableIcon.attr("von").replace(a,"<strong>"+a+"</strong>")+"</span>"),choosableIcon.removeClass("vih")}),Y()}function X(){$(".vce").removeClass("vri"),$(".vcd .vrj li div.vam.vih").removeClass("vih"),$(".vok").val(""),$(".vcd .vol").addClass("vih"),$(".vcd ul.vrj div.vam span.vor").remove(),Y()}function Y(){var a,b=!0;$(".vow").remove(),$(".vcd ul.vrj li.vov").each(function(c,d){a=$(this).find("div.vam:not(.vih)").length,0===a?$(this).addClass("vih").prev().addClass("vih"):(a>70?$(".vce").addClass("vrk"):$(".vce").removeClass("vrk"),$(this).removeClass("vih").prev().removeClass("vih"),b=!1),$(".vcd .vrj li span.vom").eq(c).text(a+" icon"+(a>1?"s":"")+" "+(""!==$(".vok").val()?"found":"in this pack")+" ")}),b&&($(".vce").append('<span class="vow">None Found</span>'),$(".vce").removeClass("vrk"))}function Z(a){$(".vcl").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vdx").html($("#vdp").html()),$(".vcp").attr("src",$("."+a).attr("src")),$(".vcm .veb").text($("."+a).get(0).naturalWidth+"x"+$("."+a).get(0).naturalHeight+" pixels"),$(".vco").val($("."+a).attr("src").replace("../img/","img/")),$(".vck").val(a),$(".vcf").val($("."+a).attr("alt")),$(".vdx .vdy").each(function(){var a=$(this).find("img").get(0),b=$(this).find(".vec");b.text(a.naturalWidth+"x"+a.naturalHeight)}),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){da(),$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function aa(){var a=$(".vco").val(),b=$("."+$(".vck").val());refreshTarget=$(".vck").val(),"img/"===a.substring(0,4)&&(a=a.replace("img/","../img/")),b.attr("src",a),b.attr("alt",$(".vcf").val()),b.closest("a.ven").length&&b.closest("a.ven").attr("data-title",b.attr("alt")).attr("href",a),b.is(".background-image, .background-image-holder img")?pc(refreshTarget):b.parents().find(kc).length&&pc(refreshTarget),gb()}function ba(a){var b,c,d,e=a.target.files;for(d=$(".vdx .vmh").first(),d.children().length>d.next(".vdx .vmh").children().length&&(d=d.next(".vdx .vmh")),d.children().length>d.next(".vdx .vmh").children().length&&(d=d.next(".vdx .vmh")),b=0,c=e[b];b<e.length;b++)$('#vdp [vis="'+c.name+'"]').length||($('#vdp [vis="'+c.name+'"]').remove(),$(d).append('<div class="vdy"><img class="vcj" src="../img/'+c.name+'" vis="'+c.name+'" onerror="window.mr_variant.chooserImageError(this)"/><span class="vjn"></span><span class="vec"></span></div>')),d=$(d).is(".vdx .vmh:last")?$(".vdx .vmh:first"):$(d).next(".vdx .vmh");da()}function ca(){var a=$("<div />").addClass("vmh"),b=$("<div />").addClass("vmh"),c=$("<div />").addClass("vmh"),d="";if($.localStorage(ac+".gallery.images"))$("#vdp").html($.localStorage(ac+".gallery.images")),$("#vdp div").each(function(){$(this).find("img").length||$(this).remove(),$(this).hasClass("no-image")&&$(this).remove()});else{var e=$(".vdz").attr("vbv").split(",");e.forEach(function(e,f){d='<div class="vdy"><img class="vcj" delay-src="../img/'+e+'" vis="'+e+'" onerror="window.mr_variant.defaultImageError(this)"/><span class="vec"></span></div>',f%3===0?c.append(d):f%2===0?b.append(d):a.append(d),$("#vdp").append(a).append(b).append(c)})}}function da(){$.localStorage(ac+".gallery.images",$(".vdx").html()),$("#vdp").html($(".vdx").html())}function ea(a){var b=$(a).find("img");b.attr("src",""),b.attr("src","../img/"+b.attr("vis")),b.css("display","inline"),$(a).removeClass("no-image"),$(a).find(".vjn, .vec").html("")}function fa(a,b,c,d){var e,f="undefined"!=typeof c&&"string"==typeof c&&""!==c?c:"div",g="undefined"!=typeof d&&"string"==typeof d&&""!==d?d:"",h=b!==!1?$(".viu ."+b):!1,i=h?h.outerWidth():null,j="10px",k=h&&"img"===h.prop("tagName").toLowerCase()?!0:!1,l=h&&"absolute"===h.css("position")?!0:!1,m=U("image","Edit Image",f,g),n=$('<div class="vnu"></div>'),o=$('<div class="vnw"></div>');if($(m).unbind("click").bind("click",function(b){return Z($("."+a).attr("vic")),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,!1}).attr("vof",$("."+a).attr("vic")),100>=i&&(j="2px"),b!==!1){if(k)return l?!0:(e=h.parent(),h.parent().is(".vnu")||(e=n,""!==h.css("float")&&e.css("float",h.css("float")),""!==h.css("padding")?e.css("padding",h.css("padding")):(""!==h.css("padding-left")&&(e.css("padding-left",h.css("padding-left")),h.css("padding-left","0px")),""!==h.css("padding-right")&&(e.css("padding-right",h.css("padding-right")),h.css("padding-right","0px"))),""!==h.css("margin-right")&&(e.css("margin-right",h.css("margin-right")),h.css("margin-right","0px")),""!==h.css("margin-left")&&(e.css("margin-left",h.css("margin-left")),h.css("margin-left","0px")),h.hasClass("pull-right")&&e.addClass("pull-right"),h.hasClass("pull-left")&&e.addClass("pull-left"),e.css("max-width",i),h.wrap(e)),$(o).css("padding",j).css("width",h.innerWidth()).append(m),h.parent().append(o),!0);$(o).css("padding",j).css("width",i).append(m),h.append(o)}return b===!1?m:void 0}function ga(a,b){var c="undefined"!=typeof a.target?a.target.files:a,d="";b=b===!0?!0:!1;for(var e=0;e<c.length;e++){var f=new FileReader,g=c[e];f.onload=function(a){return function(c){try{var e=new JSZip(c.target.result),f='<span class="vjl">Imported the following:</span>',g='<span class="vjl">Excluded these:</span>',h="<ul>",i="<ul>";$.each(e.files,function(a,b){var c,e;b.name===ac+".navs"?(c=b.asText().trim(),c=$('<div id="vrl" />').html(c),$(c).children().each(function(){$('#vbn [via="'+$(this).attr("via")+'"]').length?i+="<li>Nav - "+$(this).attr("vio")+" (already exists)</li>":(oa($(this)),$("#vbn").append($(this)),$.localStorage(ac+".vbo",$("#vbn").html()),h+="<li>Nav - "+$(this).attr("vio")+"</li>")})):b.name===ac+".footers"?(footers=b.asText().trim(),footers=$('<div id="vjj" />').html(footers),$(footers).find("footer").each(function(){$('#vbl [vhy="'+$(this).attr("vhy")+'"]').length?i+="<li>Footer - "+$(this).attr("vie")+" (already exists)</li>":(w($(this)),$("#vbl").append($(this)),$.localStorage(ac+".custom-footers",$("#vbl").html()),h+="<li>Footer - "+$(this).attr("vie")+"</li>")})):(e=JSON.parse(b.asText()),e.templateName===ac?$('#vhl [viy="'+e.stateID+'"]').length?i+="<li>Page - "+e.pageName+" (already exists)</li>":(h+="<li>Page - "+e.pageName+"</li>",stateID=e.stateID,$("#vhl").append('<li class="viy" viy="'+e.stateID+'" vjh="'+e.pageName+'" page-title="'+e.pageTitle+'"></li>'),La(e.pageName,e.stateID),$.localStorage(ac+".state.veu."+stateID,e.masterHtml),$.localStorage(ac+".state.vem."+stateID,e.layoutMap),$.localStorage(ac+".vhf."+stateID,e.colourScheme),$.localStorage(ac+"vmp."+stateID,e.fontOption),$.localStorage(ac+".vkp."+stateID,e.bodyClasses),$.localStorage(ac+".state.page-meta-description-mrv."+stateID,e.metaDescription),$.localStorage(ac+".state.page-google-analytics-id-mrv."+stateID,e.googleAnalyticsID)):i+="<li>Page - "+e.pageName+" (not designed for this template)</li>",d={id:e.stateID,name:e.pageName})}),$.localStorage(ac+".vhk",$("#vhl").html()),h+="</ul>",i+="</ul>","<ul></ul>"!==h&&(h=f+h),"<ul></ul>"!==i&&(i=g+i),b?($(".vhe").remove(),ib(d.id)):xb("Import",h+"<br />"+i),setTimeout(function(){$(".vfw").find(".ves").length?$(".vfw").removeClass("empty-vfw"):$(".vfw").addClass("empty-vfw")},100)}catch(c){xb("Page Import Error","Error reading "+a.name+" : <br /><br />"+c.message)}}}(g),f.readAsArrayBuffer(g)}$(".vef").val("")}function ha(a){$(".vcw").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vgp").addClass("vih");var b=$("."+a);b.hasClass("ven")?$(".vcq").text("for Lightbox Image"):ka(),$(".vcu").val($("."+a).attr("href").replace("../img/","img/")),$(".vcv").val(a),$(".vcz").removeAttr("selected"),"undefined"!=typeof $("."+a).attr("target")?$(".vcy").val($("."+a).attr("target")):$(".vcy").val("_self"),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function ia(){var a=$("."+$(".vcv").val()),b=$(".vcu").val(),c=$(".vcy").val();a.hasClass("ven")&&(a.find("img[alt]").length&&a.attr("data-title",a.find("img").attr("alt")),"img/"===b.substring(0,4)&&(b=b.replace("img/","../img/"))),a.removeClass("inner-link").attr("href",b).attr("target",c),-1!==b.indexOf("#")&&a.addClass("inner-link"),gb()}function ja(a){var b,c,d;$("[vik="+$(a).parent().parent().attr("vbq")+"]").length?(c=$("[vik="+$(a).parent().parent().attr("vbq")+"]").attr("id"),d=$('.viu[href="#'+$("[vik="+$(a).parent().parent().attr("vbq")+"]").attr("id")+'"], #veu [href="#'+$("[vik="+$(a).parent().parent().attr("vbq")+"]").attr("id")+'"]'),d.attr("href","#"+Ib($(a).text())),pa(),$("[vik="+$(a).parent().parent().attr("vbq")+"]").attr("id",Ib($(a).text())).attr("vij",$(a).text())):(b=$("."+$(a).parent().parent().attr("vbq")),b.before('<a id="'+Ib($(a).text())+'" class="in-page-link" vij="'+$(a).text()+'" vik="'+$(a).parent().parent().attr("vbq")+'"></a>'))}function ka(){$(".vgp").addClass("vih");var a=$(bc).find(".in-page-link");a.length&&(output='<option value="">Select an in-page navigation link</option>',a.each(function(){var a=$(this);output+='<option value="#'+a.attr("id")+'">'+a.attr("vij")+"</option>"}),$(".veh").html(output),$(".vgp").removeClass("vih"))}function la(a){$(".vfc").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vga").val(""),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function ma(){var a,b=(new Date).getTime(),c="via-"+b,d=$(".vgb").val(),e=xa(),f=ua();$(".vfj").closest(".vho").find(".vly").text(d),$(".vgb").val(""),e.removeClass("vir").addClass("vhz").addClass(c).attr("via",c).attr("vio",d),f.removeClass("vir").addClass("vhz").addClass(c).attr("via",c).attr("vio",d),$("#vbn").append(e.clone()),a=$("#vbn").html(),$.localStorage(ac+".vbo",a),oa($("."+c))}function na(){$("#vbn").append($.localStorage(ac+".vbo")),$("#vbn").children().each(function(){oa($(this))})}function oa(a){$(".vfj").append('<li class="vfi" nav-id="'+$(a).attr("via")+'" vit="vhz"><span>'+$(a).attr("vio")+'</span><span class="vby oi" data-glyph="x"></span></li>')}function pa(){var a=ua(),b=a.attr("via");masterNav=$("#veu ."+b),masterNav.attr("class",a.attr("class")),$("#vbn ."+b).html(masterNav.html()).attr("class",a.attr("class")),$("#vbn .vjb").removeClass("vjb"),$.localStorage(ac+".vbo",$("#vbn").html())}function qa(a,b){var c,d,e=(ta(),ua()),f=wa(),g=xa(),h=b===!0?!0:!1;g.remove(),e.remove(),$("#vbn [via="+a+"]").length?(c=Ob($("#vbn [via="+a+"]").get(0),!0),f.prepend(c),sa($("#vbn [via="+a+"]").attr("nav-id")),za(ya(a))):$("section.vev#"+a).length?(c=$("#"+a).clone(),$(c).find("script.options").remove(),f.prepend(c.html()),g=xa(),g.addClass("vir").attr("nav-id",a),g.find(".modal-container, .notification-container").length&&(d=(new Date).getTime(),g.find(".modal-container, .notification-container").attr("vqj",a+"-"+d).addClass("vir")),Wa(g),sa(a),za(ya(a))):za(defaults.ui.sidebar.navOptionsListText),h&&(gb(),pc())}function ra(){xa().remove(),ua().remove(),vb(),wb(),gb(),pc()}function sa(a){var b=wa(),c=ta();arguments.length||(a=xa().attr("nav-id")),$(".vmm").closest(".vkq").remove();try{var d=JSON.parse($("#"+a+" script.options").html());$("<div>").addClass("vkq").append('<div class="vlq"><span>Nav Options</span></div>').append('<div class="vmd"><ul class="vmm"></ul></div>').appendTo(".vmb");if($.isArray(d.options))$(d.options).each(function(a,d){var e="undefined"!=typeof d.target?d.target:"";Ka(d,".vmm",c.selector+" nav "+e+", "+b.selector+" nav "+e,!0)});else{var e="undefined"!=typeof d.options.target?d.options.target:"";Ka(d.options,".vmm",c.selector+" nav  "+e+", "+b.selector+" nav  "+e,!0)}}catch(f){return}}function ta(){return $(ec.selector)}function ua(){return ta().children().not("a").first()}function va(){return ua().attr("vic")}function wa(){return $(dc.selector)}function xa(){return wa().children().not("a").first()}function ya(a){return $('[via="'+a+'"]').attr("vio")||$("#vgg .vev#"+a).attr("vbr")}function za(a){$(".vfj").siblings(".vly").text(a)}function Aa(){try{return JSON.parse($("#vnd").html())}catch(a){return JSON.parse('{"options":[]}')}}function Ba(){try{var a=JSON.parse($("#vkk").html());$("<div>").addClass("vkq").append('<div class="vlq"><span>Page Options</span></div>').append('<div class="vmd"><ul class="vkx"></ul></div>').appendTo(".vmb");$.isArray(a.options)?$(a.options).each(function(){Ka(this,".vkx","body, #vkk",!0)}):Ka(a.options,".vkx","body, #vkk",!0)}catch(b){return}}function Ca(){try{return JSON.parse($("#voy").html())}catch(a){return JSON.parse('{"options":[]}')}}function Da(a,b){var c,d=$("."+a),e="";Vb.options.forEach(function(a){c=a.disposableSelector||a.selector,"undefined"!=typeof a.closest&&(d=$("."+$(d).closest(a.closest).attr("vic"))),"undefined"!=typeof a.menu&&(e="."+a.menu),$(d).is(c)&&(Ka(a,".vnc"+e,d.selector,!0),"undefined"!=typeof b&&b===!0&&$(".vnc"+e).removeClass("vih"))})}function Ea(a){var b=$("."+a);$("ul.vnc li").remove(),$(Wb.options).each(function(){b.is(this.selector)&&Ga(b,this)})}function Fa(a){a="undefined"!=typeof a?a:"",$("#vkk").removeAttr("class").addClass(a),$("body").addClass(a),$(".vkx .vky").each(function(){$(this).find(".vks").removeClass("vkr"),-1!==a.indexOf($(this).attr("optionalclass"))?$(this).find(".choice-button-on").addClass("vkr"):($(this).find(".choice-button-off").addClass("vkr"),$("body").removeClass($(this).attr("optionalclass")))}),$(".vkx .vkz").each(function(){$(this).find(".vkt").removeClass("vku"),-1!==a.indexOf($(this).attr("optionalclass"))?$(this).find(".vkt").addClass("vku"):$("body").removeClass($(this).attr("optionalclass"))}),$(".vkx .vkv").removeClass("vkw"),$('.vkx .vkv[optionalclass=" "]').addClass("vkw"),$(".vkx .vkv").each(function(){-1!==a.indexOf($(this).attr("optionalclass"))&&" "!==$(this).attr("optionalclass")?($(this).addClass("vkw"),$('.vkx .vkv[optionalclass=" "]').removeClass("vkw")):$("body").removeClass($(this).attr("optionalclass"))})}function Ga(a,b,c){var d,e,f,g,h=b||a.data("vip");d=$(a).find(h.selector+"["+h.attribute+"]").length?$("#veu "+$(a).attr("vic")).find(h.selector+"["+h.attribute+"]"):$("#veu ."+$(a).attr("vic")),f="undefined"!=typeof h.modalInputIcon?h.modalInputIcon:"pencil",g="undefined"!=typeof h.refresh?h.refresh:"false",e=d.attr(h.attribute),$(".vbk").text(h.modalTitle),$(".vbh").text(h.modalIntro),$(".vbf").text(h.modalInputLabel),$(".vkh").attr("data-glyph",f),$(".vbg").val(e),$(".vbe").val($(d).attr("vic")).attr("vnn",g),$(".vbc").val(h.attribute),$(".vbk").text(h.modalTitle),"string"!=typeof c&&c===!0?Ha():$(a).is("section, header")?$(".vgk").text(h.buttonText).attr("data-glyph",f).removeClass("vih"):$(".vdh").text(h.buttonText).attr("data-glyph",f).removeClass("vih")}function Ha(){$(".vbi").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function Ia(){var a=$("#veu ."+$(".vbe").val()),b=$(".vbg").val(),c=$(".vbc").val();$(a).closest("[data-vip]").data("vip");-1!==b.indexOf("<")&&(!$(b).is("iframe")||"src"!==c&&"no-src"!==c&&"data-src"!==c||(b=$(b).attr("src"),"//"===b.substring(0,2)&&(b="https:"+b),-1!==b.indexOf("youtube.com")&&(b+="?showinfo=0&rel=0&modestbranding=1",a.hasClass("youtube-bg-iframe")&&(b+="&enablejsapi=1&autoplay=1&controls=0&loop=1&iv_load_policy=3")),-1!==b.indexOf("vimeo.com")&&(b+="?badge=0&title=0&byline=0"))),$(a).is("iframe")&&"no-src"===c?($(a).attr(c,b),$(".viu ."+$(".vbe").val()).attr("src",b)):($(a).attr(c,b),$(".viu ."+$(".vbe").val()).attr(c,b)),gb(),"true"===$(".vbe").attr("vnn")&&pc(a.attr("vic")),$(".vbe").removeAttr("refresh")}function Ja(a,b,c){var d,e=a.modalInputIcon||"pencil";return d=$('<div data-glyph="'+e+'" class="oi vnv" title="'+a.buttonText+'"></div>'),d.addClass("vno"),d.data("vnq",a),d.attr("vnr",c),b===!1?d:void $(b).append(d)}function Ka(a,b,c,d){var e,f="undefined"!=typeof d?d:!1,g="on"===a.initial?"on":"off",h=$("<li>"),i=$("<div>"),j="";return c="undefined"!=typeof c?c:!1,e="undefined"!=typeof a.refresh&&"true"===a.refresh?"refresh":"",h.addClass("vmk"),a.title&&h.append("<span>"+a.title+"</span>"),"choice"===a.type&&("on"===g&&f===!0&&$(c).addClass(a["class"]),i.addClass("vky").attr("optionalclass",a["class"]).attr("classtarget",c),i.append('<div class="vks choice-button-on '+e+" "+("on"===g&&f===!0?"vkr":"")+($(c).hasClass(a["class"])&&f!==!0?"vkr":"")+'">'+a.onText+"</div>"),i.append('<div class="vks choice-button-off '+e+" "+("off"===g&&f===!0?"vkr":"")+($(c).hasClass(a["class"])||f===!0?"":"vkr")+'">'+a.offText+"</div>"),h.append(i)),"toggle"===a.type&&("on"===g&&f===!0&&$(classtarget).addClass(a["class"]),j="on"===g&&f===!0?" vku":"",j="auto"===a.initial&&$(c).hasClass(a["class"])?" vku":j,i.addClass("vkz").attr("optionalclass",a["class"]).attr("classtarget",c),i.append('<span class="oi" data-glyph="'+a.icon+'"></span><span>'+a.text+"</span>"),i.append('<div class="vkt'+j+" "+e+'"><div class="vmi"></div></div>'),h.append(i)),"multi"===a.type&&(i.addClass("vmj").attr("classtarget",c),$.each(a.classes,function(b,c){i.append('<div class="vkv '+e+" "+(a.initial===b+1&&f===!0?"vkw":"")+'" optionalclass="'+(""!==c["class"]?c["class"]:" ")+'">'+c.text+"</div>")}),h.append(i)),"undefined"!=typeof a.submenu&&($(b).find('li.vnk[submenu-name="'+a.submenu+'"]').length||$(b).append('<li class="vnk" submenu-name="'+a.submenu+'"><span class="vnl">'+a.submenu+"</span><ul></ul></li>"),b=$(b).find('li.vnk[submenu-name="'+a.submenu+'"] ul')),b===!1?h:void $(b).append(h)}function La(a,b){$(".vfw").prepend('<div class="ves" vjh="'+a+'" state-id="'+b+'"><span class="oi vdj" data-glyph="data-transfer-download"></span><span class="vfx">'+a+'</span><span class="vbz oi" data-glyph="x"></span><span class="vpy oi" data-glyph="pencil"></span></div>'),isSafari&&$(".vdj").remove(),$(".vfw").removeClass("empty-vfw")}function Ma(a){"undefined"!=typeof a&&($('.ves[state-id="'+a+'"]').remove(),setTimeout(function(){$(".vfw").find(".ves").length?$(".vfw").removeClass("empty-vfw"):$(".vfw").addClass("empty-vfw")},50))}function Na(a){var b=Oa("Page");a&&jb(),$(".vhe").addClass("vih"),hb(b)}function Oa(a){var b,c=[];return $("#vhl li").each(function(){c.push($(this).attr("vjh"))}),b=a.split(" ").length>1?parseInt(a.split(" ").pop()):0,_.contains(c,a)?Oa(a.split(" ")[0]+" "+(b+1)):a}function Pa(a){return a===$.localStorage(ac+".vhh")}function Qa(){Eb(),jb(),$(".vhe").removeClass("vih"),$(".vet").addClass("vih"),$.localStorage(ac+".vhh",""),$.localStorage(ac+".vhg","")}function Ra(){$(".vqm").removeClass("vhr"),$(".viu, .viu .vrh").removeClass("vrh")}function Sa(){try{return JSON.parse($("#variant-section-vgu").html())}catch(a){return JSON.parse('{"options":[]}')}}function Ta(a){var b,c=$(".viu ."+a),d=($("#veu ."+a),c.attr("vic")),e=$(".vqm"),f=c.position(),g=c.offset(),h=ta(),i=Math.max(h.children().first().outerHeight(!0),h.find(".nav-bar:nth-of-type(1)").outerHeight(!0),$(".viu .nav-container:nth-of-type(1)").outerHeight(!0)),j=h.children().first().css("position"),k=$(".viu nav .nav-bar").css("position"),l=$(".viu"),m=c.width(),n=($(".vqm").width(),$(window).width(),$(window).height(),Math.round(g.left+m));$.find('.section-vgw[vnt="'+d+'"]').length||($(".viu .section-vgw").remove(),b=$("<div />").addClass("section-vgw").append('<span class="vnm oi" data-glyph="cog"></span>'),b.attr("vnt",d),c.is(":first-child")||"absolute"!==j&&"fixed"!==j&&"fixed"!==k&&"absolute"!==k||(i=0),b.css("top",Math.round(f.top+10+i)),b.appendTo(l),e.attr("vnt",d),b.css("left",n-b.width()))}function Ua(a){var b,c,d=$(".viu ."+a),e=$("#veu ."+a),f=d.attr("vbq"),g=$(".vhv .vqm"),h=g.find(".vqp"),i=g.find(".vqn span"),j={title:"Visible On",type:"multi",selector:"section, header, footer",explainer:"Select the device sizes which this section should appear on.",required:!0,options:[{html:'<span class="oi" data-glyph="phone"></span>',onClass:"",onTitle:"Shown on mobile",offClass:"hidden-xs",offTitle:"Hidden on mobile"},{html:'<span class="oi" data-glyph="tablet"></span>',onClass:"",onTitle:"Shown on tablet",offClass:"hidden-sm",offTitle:"Hidden on tablet"},{html:'<span class="oi" data-glyph="monitor"></span>',onClass:"",onTitle:"Shown on desktop",offClass:"hidden-md hidden-lg",offTitle:"Hidden on desktop"}],targetID:a,targetSelector:"."+a,target:d,masterTarget:$("#veu ."+a)};h.empty(),d.is("section")&&(b=$('.vjc .vem .vaa[vbq="'+f+'"] div.vab span').text()),d.is("footer")&&(b=d.is("[vhy]")?$('.vdm li.vdl[vid="'+d.attr("vhy")+'"] span').text():$('.vdm li.vdl[vid="'+d.attr("footer-id")+'"] ').text()),i.text(b),h.append(Xb.choice.render(j)),c=d.find("img[vic]").not(".voh img, .slider li img"),c.length&&h.append(Xb.images.render(c)),$(sectionSidebarOptions.options).each(function(a,b){var c,f,i,j,k,l;if(e.is(b.selector))c=d;else{if(!e.find(b.selector).length)return;c=e.find(b.selector)}i=c.attr("vic"),j="."+i,k=$(".viu "+j+", #veu "+j),l=$("#veu "+j),"undefined"!=typeof b.group?(f=$("<div>").addClass("vqr"),f.append(Xb.controlTitle.render(b.title)),$(b.group).each(function(a,b){b.targetID=i,b.targetSelector=j,b.target=k,b.masterTarget=l,f.append(Xb[b.type].render(b,c,g))}),h.append(f)):(b.targetID=i,b.targetSelector=j,b.target=k,b.masterTarget=l,h.append(Xb[b.type].render(b,c,g)))}),g.find('input[type="text"]').each(function(){var a=g.data();a.focussedElementAttribute===$(this).data("attribute")&&a.focussedElementValue===$(this).val()&&($(this).focus(),$(this).selectRange(a.cursorPosition))})}function Va(a){var b=a.find(".vab span").text(),c=a.attr("vbq"),d=$('.viu [vbq="'+c+'"]'),e=d.attr("vic"),f=$('.vqm.vhr[vnt="'+e+'"] .vqn span');f.length&&f.text(b)}function Wa(a){var b=(new Date).getTime(),c="vjs-"+b;return $(a).is("section, nav, header, footer, .divider-background")&&($(a).is("[vic]")||($(a).attr("vic",c),$(a).addClass(c))),$(a).find("p, span, a, h1, h2, h3, h4, h5, h6, strong, em, ul, li, div, i, img, section, header, figure, video, iframe, input, button, textarea, blockquote, figcaption, tbody, tr, td, th, form, label, address").not(".vog, [vic]").each(function(a){var b=c+"-"+a;$(this).attr("vic",b),$(this).addClass(b),$(this).is("nav, nav li, .slides > li, .slides .owl-item > li, .slides .flickity-slider > li, ul, div, i, img, section, header, figure, .veo, video, iframe, input, textarea, form, tbody, tr, td, .vjx")||($(this).addClass("vir"),$(this).attr("contenteditable","true")),$(this).is("span, a, strong, em, i")?0===$(this).parent().text().replace($(this).text(),"").replace(/\s/g,"").length&&$(this).parent().removeAttr("contenteditable"):$(this).parent().removeAttr("contenteditable")}),b}function Xa(){var a=$(".vgm"),b="",c=$(".vgi"),d="";$("#vgg .vim").each(function(a){var c,e=$(this),f=e.attr("vbp").split(","),g="";f.forEach(function(a){-1===d.indexOf(a)&&(d+='<div class="vgh" vbp="'+a+'">'+a+"</div>")}),c=e.attr("icons"),"undefined"!=typeof c&&c!==!1&&(c=e.attr("icons").split(","),c.forEach(function(a){g+='<img class="vgj" src="img/'+a+'.png" />'})),b+='<div class="vgl" vbp="'+$(this).attr("vbp")+'" vgv="'+$(this).attr("id")+'"><img delay-src="img/sections/'+$(this).attr("id")+'.jpg"/>'+g+'<span class="vjl">'+$(this).attr("vbr")+"</span></div>"}),a.html(b),c.append(d)}function Ya(a){var b,c,d,e=$("#"+a).find("section, header, footer").clone(),f=Wa($(e)),g=a+"-"+f;d=$(e).attr("vbq",g).addClass(g),fc.selector!=bc.selector?d.appendTo(bc):(b=$(bc).find("footer"),b.length?d.insertBefore(b):d.appendTo(bc)),$(".vem").append('<div class="vaa data-vfs="'+a+'" vbq="'+a+"-"+f+'"><div class="vab"><span class="vir" contenteditable="true">'+$("#"+a).attr("vbr")+'</span></div><i class="vca variant-icon variant-close-circle" vbq="'+a+"-"+f+'"></i></div>'),ab(),gb(),pc(a+"-"+f),vb(),c=$(".vem"),layoutMapHeight=c[0].scrollHeight,c.animate({scrollTop:layoutMapHeight},480)}function Za(){var a=$(cc.selector),b=$(bc.selector),c=a.find("footer"),d=b.find("footer");$(".vem .vaa").each(function(){var e=$(this).attr("vbq"),f=b.find("."+e),g=f.clone(),h=b.find("[vik="+e+"]"),i=h.clone();h.remove(),d.length?i.insertBefore(d):i.appendTo(b),f.remove(),d.length?g.insertBefore(d):g.appendTo(b),f=a.find("."+e),g=f.clone(),h=a.find("[vik="+e+"]"),i=h.clone(),h.remove(),c.length?i.insertBefore(c):i.appendTo(a),f.remove(),c.length?g.insertBefore(c):g.appendTo(a)}),gb(),pc()}function $a(){$(".global-vfr").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function _a(){$(".vjq").removeClass("vgq"),$(".vad").toggleClass("vgq")}function ab(){$(".vem").sortable({items:"> .vaa",revert:!1,cursor:"move",opacity:.7,delay:150,cancel:"[contenteditable]",update:function(){Za()}})}function bb(){$(".vkm").addClass("vjz"),$(".vlh").trigger("click"),$(".vlv").hasClass("vmf")||$(".vac").trigger("click")}function cb(a){$(".ves").removeClass("vqb"),$('.ves[state-id="'+a+'"]').addClass("vqb")}function db(a){var b,c,d=$(".viu ul.slides."+a),e=$(d).parents(".slider"),f=d.parents(".slider[data-items]").length?d.parents(".slider[data-items]").attr("data-items"):0,g=f>1?d.find(".owl-item.active").length:0,h=ta(),k=h.children().first().css("position"),l=h.children().first().find(".nav-bar").css("position"),m=d.find(" > li, .owl-item > li, .flickity-slider > li").not(".clone").length,n=e.length&&g>1&&m>g?!0:!1,o=0;"absolute"!==k&&"fixed"!==k&&"absolute"!==l&&"fixed"!==l||!d.closest("section").is(".viu section:nth-of-type(1), .viu header:nth-of-type(1)")||(o=Math.max(h.children().first().outerHeight(!0),$(".viu .nav-container").outerHeight(!0),h.children().first().find(".nav-bar").outerHeight(!0))),d.find(" > li, .owl-item > li, .flickity-slider > li").not(".clone").each(function(a){var b,c,e=$(this),f="",g="",h="",k="",l="";b=$('<div class="vnw"></div>'),b.css("top",o+10),d.find("img").length||b.addClass("vny"),d.find("li > p, li > span").length&&b.addClass("vny"),e.find(".vnv").length||(m>1&&(f=U("arrow-thick-left","Show Previous Slide"),$(f).unbind("click").bind("click",function(a){try{d.parent().flexslider("prev")}catch(b){}try{d.closest(".slider").flexslider("prev")}catch(b){}try{d.trigger("prev.owl.carousel")}catch(b){}try{d.flickity("previous")}catch(b){}return a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),g=U("arrow-thick-right","Show next Slide"),$(g).unbind("click").bind("click",function(a){try{d.parent().flexslider("next")}catch(b){}try{d.closest(".slider").flexslider("next")}catch(b){}try{d.trigger("next.owl.carousel")}catch(b){}try{d.flickity("next")}catch(b){}return a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),h=U("minus","Delete Slide"),$(h).unbind("click").bind("click",function(a){return j(e.attr("vic"),!0),a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1})),c=U("plus","Clone Slide"),$(c).unbind("click").bind("click",function(a){return i(e.attr("vic")),a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),e.find(" > div.background-image-holder img").length&&(k=fa(e.find(" > div.background-image-holder img").attr("vic"),!1)),1===e.find("img").length&&(k=fa(e.find("img").attr("vic"),!1)),1===e.find("video").length&&(l=Fb(e.find("video").attr("vic"),!1)),b.append(f).append(h).append(k).append(l).append(c).append(g),e.prepend(b))}),n&&(c=$('<div class="vob vnw"></div>'),prevSlideButton=U("arrow-thick-left","Show Previous Slide"),$(prevSlideButton).unbind("click").bind("click",function(a){try{d.trigger("prev.owl.carousel")}catch(b){}return a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}).appendTo(c),b=$('<div class="voc vnw"></div>'),nextSlideButton=U("arrow-thick-right","Show next Slide"),$(nextSlideButton).unbind("click").bind("click",function(a){try{d.trigger("next.owl.carousel")}catch(b){}return a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}).appendTo(b),e.prepend(b).prepend(c))}function eb(){$("#vhl").html($.localStorage(ac+".vhk")),$("#vhl li").each(function(){La($(this).attr("vjh"),$(this).attr("viy"))})}function fb(a){$(".vge").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){"undefined"!=typeof a?"vpz"===a?$(".vgf").attr("vpz","true"):"vhd"===a&&$(".vgf").attr("vhd","true"):$(".vgf").val(""),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb(),$(".vgf").val(""),$(".vgf").removeAttr("viy").removeAttr("vqa")},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function gb(){pageLoaded||Na();var a=ub(),b=$(".vei").val(),c=$(".vpp").val(),d=$(".vpq").val();$(".vhe").addClass("vih"),pa(),t(),$.localStorage(ac+".vhh")?($.localStorage(ac+".state.veu."+a,$("#veu").html()),$.localStorage(ac+".state.vem."+a,$(".vem").html()),$.localStorage(ac+".vhj."+a,b),$.localStorage(ac+".state.page-meta-description-mrv."+a,c),$.localStorage(ac+".state.page-google-analytics-id-mrv."+a,d),$.localStorage(ac+".vhf."+a,$(".vay").attr("vhx")),$.localStorage(ac+"vmp."+a,$(".vms").attr("vmr")),$.localStorage(ac+".vkp."+a,"undefined"!=typeof $("#vkk").attr("class")?$("#vkk").attr("class"):" ")):($.localStorage(ac+".state.veu",$("#veu").html()),$.localStorage(ac+".state.vem",$(".vem").html()),$.localStorage(ac+".vhj",b),$.localStorage(ac+".state.page-meta-description-mrv",c),$.localStorage(ac+".state.page-google-analytics-id-mrv",d),$.localStorage(ac+".vhf",$(".vay").attr("vhx")),$.localStorage(ac+"vmp",$(".vms").attr("vmr")),$.localStorage(ac+".vkp","undefined"!=typeof $("#vkk").attr("class")?$("#vkk").attr("class"):" "))}function hb(a){var b,c,d=$(".vgf"),e="string"==typeof a?a:d.val();if("true"===d.attr("vhd")&&(jb(),setTimeout(function(){var a=$(".vge .vjl");a.text(a.attr("vpx")).removeAttr("vpx");var b=$(".vge .vew p:first");b.text(b.attr("vpx")).removeAttr("vpx")},500),bb()),"true"===d.attr("vpz"))return b=d.attr("viy"),
c=d.attr("vqa"),setTimeout(function(){var a=$(".vge .vjl");a.text(a.attr("vpx")).removeAttr("vpx");var b=$(".vge .vew p:first");b.text(b.attr("vpx")).removeAttr("vpx")},500),$('.ves[state-id="'+b+'"]').attr("vjh",e).find("span.vfx").text(e),d.removeAttr("viy"),zb("Renamed page: "+c+" to <strong>"+e+"</strong>","check","success"),$('#vhl [viy="'+b+'"]').attr("vjh",e),ub()===b&&($.localStorage(ac+".vhg",e),$(".vcr").text(e)),void $.localStorage(ac+".vhk",$("#vhl").html());var f=(new Date).getTime(),g="undefined"!=typeof $(".vei").val()?$(".vei").val():defaultPageTitle,h=""!==$(".vpp").val()?$(".vpp").val():"",i=""!==$(".vpq").val()?$(".vpq").val():"";b="viy-"+f,$("#vhl").append('<li class="viy" viy="'+b+'" vjh="'+e+'" page-title="'+$(".vei").val()+'"></li>'),La(e,b),$('#vhl [viy="'+ub()+'"]').attr("page-title",$(".vei").val()),$.localStorage(ac+".vhk",$("#vhl").html()),$.localStorage(ac+".state.veu."+b,$("#veu").html()),$.localStorage(ac+".state.vem."+b,$(".vem").html()),$.localStorage(ac+".vhj."+b,g),$.localStorage(ac+".state.page-meta-description-mrv."+b,h),$.localStorage(ac+".state.page-google-analytics-id-mrv."+b,i),$.localStorage(ac+".vhf."+b,$(".vay").attr("vhx")),$.localStorage(ac+"vmp."+b,$(".vms").attr("vmr")),$.localStorage(ac+".vkp."+b,$("#vkk").attr("class")),$.localStorage(ac+".vhh",b),$.localStorage(ac+".vhg",e),$(".vcr").text(e).removeClass("vih"),cb(b),Db(),zb("Created page: <strong>"+e+"</strong>","check","success")}function ib(a){$(".vei").removeClass("vlx"),$(".vhe").addClass("vih");var b,d,e,f,g=_.isUndefined(a)?ub():a,i=nb(g);stateHTML=".state.veu."+g,f=".state.vem."+g,colourScheme=".vhf."+g,fontOption="vmp."+g,bodyClasses=".vkp."+g,metaDescription=".state.page-meta-description-mrv."+g,googleAnalyticsID=".state.page-google-analytics-id-mrv."+g,b=mb(g),""===b&&($(".vei").val("Edit Title Tag"),document.title="Variant HTML Builder by Medium Rare"),$.localStorage(ac+stateHTML)&&($(".vcr").text(i).removeClass("vih"),$(".vei").val(b),document.title=b||defaultPageTitle,$(".vpp").val($.localStorage(ac+metaDescription)),$(".vpq").val($.localStorage(ac+googleAnalyticsID)),$("#veu").html($.localStorage(ac+stateHTML)),$(".vem").html($.localStorage(ac+f)||""),d=_.isUndefined(xa().attr("via"))?xa().attr("nav-id"):xa().attr("via"),qa(d),e=_.isUndefined(D().attr("vhy"))?D().attr("footer-id"):D().attr("vhy"),y(e),Fa($.localStorage(ac+bodyClasses)),h($.localStorage(ac+colourScheme),!1),s($.localStorage(ac+fontOption),!1),ab(),c(),sa(),cb(g),$.localStorage(ac+".vhh",g),$.localStorage(ac+".vhg",i),Db(),pc()),$(".vem").find(".vaa").length?$(".vem").removeClass("empty-vem"):$(".vem").addClass("empty-vem")}function jb(){$(".vhe").addClass("vih"),pa(),t(),$("#veu").html(Zb),$(".viu").html(Zb),c(),$(".vem").html("").addClass("empty-vem"),$(".vei").val(""),$(".vpq").val(""),$(".vpp").val(""),$(".vfj").siblings(".vly").text("Navigation Type"),$(".vdm").siblings(".vly").text("Footer Type"),$(".vgf").removeAttr("vhd")}function kb(a){var b;Pa(a)&&Qa(),$("#vhl [viy="+a+"]").remove(),$.localStorage(ac+".vhk",$("#vhl").html()),b=$.localStorage.io(ac+".state.veu."+a),b.remove(),b=$.localStorage.io(ac+".state.vem."+a),b.remove(),Ma(a)}function lb(a){return $.localStorage(ac+".state.veu."+a)}function mb(a){return $.localStorage(ac+".vhj."+a)||""}function nb(a){return $('#vhl li.viy[viy="'+a+'"]').attr("vjh")}function ob(a){var b=$.localStorage(ac+"vmp."+a);return _.isUndefined(b)?"":b}function pb(a){var b=$.localStorage(ac+".vkp."+a);return _.isUndefined(b)?"":b}function qb(a){var b=$.localStorage(ac+".vhf."+a);return _.isUndefined(b)?tb():b}function rb(a){return $.localStorage(ac+".state.page-google-analytics-id-mrv."+a)||""}function sb(a){return $.localStorage(ac+".state.page-meta-description-mrv."+a)||""}function tb(){return $("[viq]").attr("viq")}function ub(){return $.localStorage(ac+".vhh")}function vb(){var a;$(".vhv").css("height",$(window).height()),a=$(".vlv").height()-$(".vlv .vlq").height()-$(".vlv .vls").height()-$(".vlv .vlw").height()-2*$(".vlv .vho").height()-$(".vac").height()-64,$(".vem").css("max-height",a);var b=$(window).height()-$(".vem").outerHeight(!1)-$(".vlv .vls").height()-$(".vlz").height()-9;$(".vgm").css("height",b);var c=$(window).height()-$(".vlo .vls").height()-$(".vlo .vlq").height()-$(".vgc").height()-32;$(".vfw").css("max-height",c),Ab()}function wb(){void 0!==window.mr_parallax&&(setTimeout(window.mr_parallax.profileParallaxElements,100),void 0!==window.mr_parallax.callback&&$(".viu .parallax").each(function(){window.mr_parallax.callback(this)}))}function xb(a,b){a="undefined"!=typeof a?a:"",b="undefined"!=typeof b?b:"",$(".vag").text(a),$(".vae").html(b),$(".vaf").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function yb(a,b,c,d){"function"==typeof d&&"undefined"!=typeof c&&(a="undefined"!=typeof a?a:"",b="undefined"!=typeof b?b:"",$(".vqe").text(a),$(".vqf").html(b),$(".vqc").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vqc .vqd").text(c).on("click",d),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){$(".vqc .vqd").off("click"),setTimeout(function(){$.modal.close(),vb(),$(".vqc .vqd").text("")},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}}))}function zb(a,b,c,d){var e,f="undefined"!=typeof a&&""!==a?a:"",g=$("body div.vrn"),h=$("<div>").addClass("vrm"),i=(new Date).getTime(),j="notification-"+i;b="undefined"!=typeof b?b:!1,d="undefined"!=typeof d?parseInt(d):5e3,c="undefined"!=typeof c?c:"",$("div.vrn").length||($("body").append($('<div class="vrn"></div>')),g="body div.vrn"),b&&(e=$('<span class="oi">').attr("data-glyph",b),h.append(e)),h.append("<span>"+f+"</span>"),h.addClass(j).addClass("vhr"),h.addClass(c),$(g).append(h),setTimeout(function(){$(".vrm."+j).fadeOut(700,function(){$(this).remove()})},d)}function Ab(){$("#simplemodal-container").draggable({handle:".vfa"})}function Bb(){$(".vjy").unbind("click").click(function(){return!1})}function Cb(){$(".viu form").unbind("submit").bind("submit",function(a){return a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),$('.viu button[type="submit"]').unbind("click").bind("click",function(a){return a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1})}function Db(){$(".vgc, .vlt, .vdq, .vah, .vdi").removeClass("vqg"),pageLoaded=!0}function Eb(){$(".vgc, .vlt, .vdq, .vah, .vdi").addClass("vqg"),pageLoaded=!1}function Fb(a,b){var c,d=$(".viu ."+b);d.width();return c=U("video","Edit Video"),$(c).unbind("click").bind("click",function(b){return Gb($("."+a).attr("vic")),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,!1}).attr("vof",$("."+a).attr("vic")),b===!1?c:void 0}function Gb(a){$(".vde").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vdd").val(a),$(".vda").val($("."+a+' > source[type="video/mp4"]').attr("src").replace("../video/","video/")),$(".vdg").val($("."+a+' > source[type="video/webm"]').attr("src").replace("../video/","video/")),$(".vdb").val($("."+a+' > source[type="video/ogg"]').attr("src").replace("../video/","video/")),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})}function Hb(){var a=$(".vda").val(),b=$(".vdg").val(),c=$(".vdb").val(),d=$("."+$(".vdd").val()),e=$(".vdd").val();a.length&&"video/"===a.substring(0,6)&&(a=a.replace("video/","../video/")),b.length&&"video/"===b.substring(0,6)&&(b=b.replace("video/","../video/")),c.length&&"video/"===c.substring(0,6)&&(c=c.replace("video/","../video/")),d.find('source[type="video/mp4"]').attr("src",a),d.find('source[type="video/webm"]').attr("src",b),d.find('source[type="video/ogg"]').attr("src",c),pc(e),gb()}function Ib(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function Jb(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Kb(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[void 0,""])[1].replace(/\+/g,"%20"))||null}function Lb(a,b){var c=a.attr("vic"),d="undefined"!=typeof b?b:"",e=a.parent().children(d).not(".vib, .vjb").first().attr("vic");return c===e?!0:!1}function Mb(a,b){var c=a.attr("vic"),d="undefined"!=typeof b?b:"",e=a.parent().children(d).not(".vib, .vjb").last().attr("vic");return c===e?!0:!1}function Nb(a){var b=a.attr("vic"),c=a.parent().children().not(".vib, .vjb"),d=c.index(a),e=d>0?c.eq(d-1).attr("vic"):b;return e}function Ob(a,b){if(!a||!a.tagName)return"";var c,d,e=document.createElement("div");return e.appendChild(a.cloneNode(!1)),c=e.innerHTML,b&&(d=c.indexOf(">")+1,c=c.substring(0,d)+a.innerHTML+c.substring(d)),e=null,c}function Pb(a){if(window.getSelection){a.stopPropagation();var b=window.getSelection(),c=b.getRangeAt(0),d=document.createElement("br");return c.deleteContents(),c.insertNode(d),c.setStartAfter(d),c.setEndAfter(d),c.collapse(!1),b.removeAllRanges(),b.addRange(c),!1}return!0}function Qb(a){if(window.getSelection){a.stopPropagation();var b=window.getSelection(),c=b.getRangeAt(0),d=document.createTextNode(" ");return c.deleteContents(),c.insertNode(d),c.setStartAfter(d),c.setEndAfter(d),c.collapse(!1),b.removeAllRanges(),b.addRange(c),!1}return!0}function Rb(a,b,c){for(var c=[].slice.call(arguments).splice(2),d=a.split("."),e=d.pop(),f=0;f<d.length;f++)b=b[d[f]];return b[e].apply(b,c)}var Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic="",jc=".vnn, ul.slides > li, ul.slides .owl-item > li, ul.slides .flickity-slider > li , .masonry .project, .accordion li, .accordion, .masonry__item",kc=".vnn, .grid-layout, .tabbed-content, .tabs",lc=[{name:"Campaign Monitor",action:"createsend.com",handler:I},{name:"MailChimp",action:"list-manage.com",handler:H}],mc=".variant-disable-vjr, .flickity-prev-next-button, div.flickity-viewport, div.flickity-slider, li.slide *";defaultPageTitle="Edit Page Title",isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,pageLoaded=!1,defaults={ui:{sidebar:{navOptionsListText:"Nav Type",footerOptionsListText:"Footer Type"}}},Yb=new Date,this.removeIconButtons=!0,variant=this,$(".vkg").text(Yb.getFullYear()),$("#blank-veu").html($("#veu").html()),c(),$(window).resize(vb),vb(),Xa(),ca(),Sb=T(),Tb=N(),Ub=O(),eb(),na(),x(),f(),q(),Ba(),Vb=Ca(),Wb=Aa(),sectionSidebarOptions=Sa(),$(window).load(function(){d(),$("[delay-src]").each(function(a,b){b=$(this),b.attr("src",b.attr("delay-src")).removeAttr("delay-src")}),Sb.forEach(function(a){var b=a.headString;b=b.replace("href=&quot;css/",'href="theme/css/').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),$("head").prepend(b)}),b()});try{$.isFunction(J)}catch(nc){$(".vml").removeClass("vih"),$(".vdq, .vah, .vgy").click(function(){xb("Demo Only",'Getting HTML in the demo is disabled.<br /><br />You may export your page in a .variant file and import it when you <a href="#" target="_blank">purchase the full version</a>.')})}$(".vfw").find(".ves").length&&$(".vfw").removeClass("empty-vfw"),$(document).on("click",".vhu",function(){h($(this).attr("viz"),!0)}),$(document).bind("mouseup",function(a){$(a.target).closest(".vnc, .vnj").length||1===a.which&&(a.ctrlKey||($(".vhw").hide(),$(".vni").removeClass("vhr")))}),$(document).on("click",".vav",function(){$(".vhw").hide()}),$(document).on("click",".vkd",function(){$(".vkd").remove()}),$(document).on("contextmenu","[vic]",function(a){if(a.stopPropagation&&a.stopPropagation(),a.shiftKey)return!0;if($(this).is(mc))return!1;$(".vaw").removeClass("vih"),$(".vcg").text("Edit Image"),$(".vct").text("Edit Link"),$(".vfq").addClass("vih");var b,c,d,e,f,g,h,m,p,q=$(this).attr("vic"),r=$("#veu ."+q);$(r).closest("section");return htmlTags={SECTION:"Section",LI:"List Item",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",P:"Paragraph",SPAN:"Span",UL:"Unordered List",DIV:"Div",IMG:"Image",STRONG:"Strong Text",EM:"Emphasised Text",I:"Icon",A:"Link",INPUT:"Input",BLOCKQUOTE:"Quote",FIGCAPTION:"Caption",TD:"Teble Cell",TH:"Table Heading",FORM:"Form",ADDRESS:"Address"},$(".vau").text(htmlTags[r.get(0).tagName]).removeClass("vih"),$(r).data("vip")?Ga(r,!1,!1):$(r).closest("[data-vip]").length&&Ga($(r).closest("[data-vip]"),!1,!1),Ea(q),r.is("p , span, h1, h2, h3, h4, h5, h6, strong, em, li:not(ul.slides > li, ul.slides .owl-item > li, ul.slides .flickity-slider > li), ul, div, blockquote, figcaption, address")&&($(".var").unbind("click").bind("click",function(){i(r.attr("vic"))}),$(".vbw").unbind("click").bind("click",function(){j(r.attr("vic"))})),r.is("a")&&($(".vct").removeClass("vih"),$(".vct").unbind("click").bind("click",function(){ha(r.attr("vic"))}),$(".var").unbind("click").bind("click",function(){i(r.attr("vic"))}),$(".vbw").unbind("click").bind("click",function(){j(r.attr("vic"))}),r.parent().is("nav li")&&!r.parent().is("nav li:last-child")&&($(".vqh").removeClass("vih"),$(".vqh").unbind("click").bind("click",function(){l(r.parent().attr("vic"))})),r.parent().is("nav li")&&!r.parent().is("nav li:first-child")&&($(".vqi").removeClass("vih"),$(".vqi").unbind("click").bind("click",function(){k(r.parent().attr("vic"))}))),r.closest("a:not(.vog)").length&&($(".vct").removeClass("vih"),r.closest("a").hasClass("ven")&&($(".vau").text("Lightbox Thumbnail"),$(".vct").text("Edit Lightbox Link"),$(".vcg").text("Edit Thumbnail Image")),f=r.closest("a").attr("vic"),$(".vct").unbind("click").bind("click",function(){ha(f)})),r.closest("section, header").find(".video-wrapper").children("video").length&&(r.is(".overlay")&&($(".vau").text("Video Background"),$(".var").addClass("vih"),$(".vbw").addClass("vih")),video=r.closest("section, header").find(".video-wrapper").children("video"),$(".vdc").removeClass("vih"),$(".vdc").unbind("click").bind("click",function(){Gb($(video).attr("vic"))}),r.closest("section, header").find(".background-image-holder").children(".background-image").length&&($(".vcg").text("Edit Poster Image"),$(".vcg").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z(r.closest("section, header").find(".background-image-holder").children(".background-image").attr("vic"))})),r.closest(".divider-background").find(".background-image").length&&($(".vcg").text("Edit Poster Image"),$(".vcg").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z(r.closest(".divider-background").find(".background-image").attr("vic"))}))),r.closest(".slides li").find(".video-wrapper").children("video").length&&(r.is(".overlay")&&($(".vau").text("Video Slide Background"),$(".var").addClass("vih"),$(".vbw").addClass("vih")),video=r.closest(".slides li").find(".video-wrapper").children("video"),$(".vcg").text("Edit Poster Image"),$(".vdc").removeClass("vih"),$(".vdc").unbind("click").bind("click",function(){Gb($(video).attr("vic"))})),r.closest("video").length&&($(".vau").text("Video"),$(".var").addClass("vih"),$(".vbw").addClass("vih"),video=r.closest("video"),$(".vdc").removeClass("vih"),$(".vdc").unbind("click").bind("click",function(){Gb($(video).attr("vic"))})),r.closest(".slides li").find(".video-wrapper").children("video").length&&r.closest(".slides li").find(".background-image-holder").children(".background-image").length&&($(".vcg").text("Edit Poster Image"),$(".vcg").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z(r.closest(".slides li").find(".background-image-holder").children(".background-image").attr("vic"))})),r.is("p , div, span, figure, article, img")&&(r.closest('[class*="medium-"]').length&&(closestElement=r.closest('[class*="medium-"]'),closestElement.hasClass("medium-12")||($(".veg").removeClass("vih"),$(".veg").unbind("click").bind("click",function(){n(closestElement.attr("vic"))})),closestElement.hasClass("medium-1")||($(".vbt").removeClass("vih"),$(".vbt").unbind("click").bind("click",function(){o(closestElement.attr("vic"))}))),r.parent().is('div [class*="medium-"]')&&(r.parent().hasClass("medium-1")||($(".vbt").removeClass("vih"),$(".vbt").unbind("click").bind("click",function(){o(r.attr("vic"))})),r.parent().hasClass("medium-12")||($(".veg").removeClass("vih"),$(".veg").unbind("click").bind("click",function(){n(r.attr("vic"))}))),r.closest('[class*="col-md-"]').length&&(closestElement=r.closest('[class*="col-md-"]'),closestElement.hasClass("col-md-12")||($(".veg").removeClass("vih"),$(".veg").unbind("click").bind("click",function(){n(closestElement.attr("vic"))})),closestElement.hasClass("col-md-1")||($(".vbt").removeClass("vih"),$(".vbt").unbind("click").bind("click",function(){o(closestElement.attr("vic"))}))),r.closest('[class*="col-sm-"]:not([class*="col-md-"])').length&&(closestElement=r.closest('[class*="col-sm-"]:not([class*="col-md-"])'),closestElement.hasClass("col-sm-12")||($(".veg").removeClass("vih"),$(".veg").unbind("click").bind("click",function(){n(closestElement.attr("vic"))})),closestElement.hasClass("col-sm-1")||($(".vbt").removeClass("vih"),$(".vbt").unbind("click").bind("click",function(){o(closestElement.attr("vic"))}))),r.closest('[class*="col-xs-"]:not([class*="col-md-"])').length&&(closestElement=r.closest('[class*="col-xs-"]:not([class*="col-md-"])'),closestElement.hasClass("col-xs-12")||($(".veg").removeClass("vih"),$(".veg").unbind("click").bind("click",function(){n(closestElement.attr("vic"))})),closestElement.hasClass("col-xs-1")||($(".vbt").removeClass("vih"),$(".vbt").unbind("click").bind("click",function(){o(closestElement.attr("vic"))})))),r.is(".cover-wrapper, .hover-state")&&(b=r.closest("figure").find("img").get(0),c=r.closest("a").first(),$(b).is("img")&&($(".vcg").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z($(b).attr("vic"))})),r.closest("figure").length&&(g=r.closest("figure").attr("vic"),g.length&&($(".var").unbind("click").bind("click",function(){i(g)}),$(".vbw").unbind("click").bind("click",function(){j(g)})))),(r.parents("nav, header").length||r.is("nav")||r.is("header"))&&(r.is("nav, header")?(e=r.attr("nav-id"),$(".vau").text("Nav"),$(".vaw").addClass("vih")):(e=r.closest("nav").attr("nav-id"),$(".vau").text("Nav > "+$(".vau").text())),$(".vfe").removeClass("vih"),$(".vfg[nav-id="+e+"]").each(function(){$(".viu nav").hasClass($(this).attr("nav-class"))||$(this).removeClass("vih")}),$(".vhw .vaw").not(".vih").length||$(".vfe .vfm").removeClass("vih")),r.closest(".hover-background").length&&(b=r.closest("section").find(".hover-background .background-image").get(0),$(b).is("img")&&($(".vcg").text("Edit Background Image").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z($(b).attr("vic"))})),$(r).closest(".hover-background").find(".foreground-image-holder .background-image").each(function(a){var b=a+1,c=$(this);newButton=$(".vcg").clone(),newButton.removeClass("vcg").addClass("vkd edit-foreground-"+b),newButton.text("Edit Layer "+b+" Image"),$(this).attr("src"),newButton.unbind("click").bind("click",function(){Z(c.attr("vic"))}),newButton.insertBefore($(".vcg"))})),r.is("i")&&($(".vau").text("Icon"),$(".vcc").removeClass("vih"),$(".vcc").unbind("click").bind("click",function(){V(r.attr("vic"))}),$(".var").unbind("click").bind("click",function(){i(r.attr("vic"))}),$(".vbw").unbind("click").bind("click",function(){j(r.attr("vic"))})),r.is("img")&&($(".vcg").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z(r.attr("vic"))}),$(".var").unbind("click").bind("click",function(){i(r.attr("vic"))}),$(".vbw").unbind("click").bind("click",function(){j(r.attr("vic"))})),r.is("section")&&($(".vau").text("Section"),$(".var").unbind("click").addClass("vih"),$(".vbw").unbind("click").addClass("vih")),r.is("header")&&($(".vau").text("Section"),$(".var").unbind("click").addClass("vih"),$(".vbw").unbind("click").addClass("vih")),r.closest(".veo").length&&(d=$(r).closest(".veo"),b=$(r).closest(".veo").find("img"),$(".vcg").removeClass("vih"),$(".vcg").unbind("click").bind("click",function(){Z(b.attr("vic"))}),$(".var").removeClass("vih").unbind("click").bind("click",function(){i(d.attr("vic"))}),$(".vbw").removeClass("vih").unbind("click").bind("click",function(){j(d.attr("vic"))})),r.hasClass("vns")&&$(".var").unbind("click").addClass("vih"),Da(q,!0),h=$("body > .vhw"),h.find(".vaw:not(.vih)").length?(m=$(window).width(),p=$(window).height(),a.pageX+h.outerWidth()>m?h.css("left",m-h.outerWidth()):h.css("left",a.pageX),a.pageY+h.outerHeight()>p?h.css("top",p-h.outerHeight()):h.css("top",a.pageY),vb(),h.show()):h.hide(),!1}),$(document).on("click",".vdi:not(.vqg)",function(){p("all")}),$(document).on("click",".vmv",function(){s($(this).attr("vmw"),!0)}),$(".vfy").on("click",function(){""!==$(".vfz").val()&&(v(),$.modal.close())}),$(".vfz").keyup(function(a){13===a.keyCode&&""!==$(".vfz").val()&&(v(),$.modal.close())}),$(document).on("keyup paste input","footer.vir",function(){var a=$(this);u(a),a.removeClass("vir").addClass("vhz")}),$(document).on("keyup paste input","footer.vhz",function(){t()}),$(document).on("keyup paste input",".vfz",function(){""!==$(this).val()?$(".vfy").show():$(".vfy").hide()}),$(".vfl").click(function(){$(this).closest(".vho").removeClass("vhr");var a=$(this).text();$(this).closest(".vho").find(".vly").text(a),z()}),$(document).on("click",".vbx",function(){var a=$(this).parent().attr("vid");$(this).parent().remove(),$("."+a).remove(),t()}),$(document).on("click",".vdl",function(){y($(this).attr("vid"),!0),$(this).closest(".vho").removeClass("vhr"),$(".vhe").addClass("vih");var a=$(this).text();$(this).closest(".vho").find(".vly").text(a)}),$(".vpk").on("click",function(){G()===!0&&$.modal.close()});var oc=function(a){$(".vph").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){$(".vpj").val(a),setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}})};variant.promptEditForm=oc,$(document).on("click",".vdq:not(.vqg)",function(){output=J(ub()),$(".vfu").html("").append(output),$(".vdr").modal({autoResize:!0,overlayClose:!0,opacity:0,overlayCss:{"background-color":"#3e3e3e"},closeClass:"vex",onShow:function(){switch(window.location.protocol){case"http:":case"https:":case"file:":$(".vgn").click(function(){$(".vfu").select()}),$(".vgn").show(),$(".code-copy-simple").show(),$(".vfu").select()}setTimeout(function(){$(".simplemodal-container").addClass("vko"),$(".simplemodal-overlay").addClass("vko")},100),vb()},onClose:function(){setTimeout(function(){$.modal.close(),vb()},300),$(".simplemodal-container").removeClass("vko"),$(".simplemodal-overlay").removeClass("vko")}}),""!==$.localStorage(ac+".vbu")&&$.localStorage(ac+".vbu",$("#image-edit-chooser").attr("vbv"))}),$(".vgy").click(function(){var a,b="",c="";b=$.localStorage(ac+".vhg"),b="undefined"!=typeof $.localStorage(ac+".vhg")?$.localStorage(ac+".vhg"):"page",c=$(".vfu").val(),a=new Blob([c],{type:"text/plain;charset=utf-8"}),saveAs(a,Ib(b)+".html")}),$(document).on("click",".vah:not(.vqg)",function(){var a,b,c=new JSZip,d=[],e=new Date;return $("#vhl .viy").length?($("#vhl .viy").each(function(){d.push($(this).attr("viy"))}),a="variant-exported-"+Ib(e.toDateString()),d.forEach(function(a,b){var d,f;e=new Date,f=$('#vhl [viy="'+a+'"]').attr("vjh"),d=$('<textarea id="vro" />').append(J(a)),f=1===$('#vhl [vjh="'+f+'"]').length?Ib(f)+".html":Ib(f)+"-"+e.getTime()+".html",c.file(f,d.val())}),b=c.generate({type:"blob",compression:"deflate"}),void saveAs(b,"html-pages-"+Ib(e.toDateString())+".zip")):void xb("Export HTML","There was nothing to export.<br /><br />Save at least one page before exporting.")}),$(document).on("keyup paste input",".vcd .vok",function(){var a=$(".vcd .vok").val();""!==a?(W(a),$(".vcd .vol").removeClass("vih")):X()}),$(document).on("click",".voj li:not(.vhr)",function(){var a=$(this);$(".voj li.vhr, .vrj li.vhr").removeClass("vhr"),a.addClass("vhr"),$(".vrj li.vou").eq(a.index()).addClass("vhr"),$(".vrj li.vov").eq(a.index()).addClass("vhr")}),$(document).on("click",".vcd .vol",function(){X()}),$(document).on("click",".viu i",function(){var a=$(this);a.hasClass("catch-double-click")?V(a.attr("vic")):(a.addClass("catch-double-click"),setTimeout(function(){a.removeClass("catch-double-click")},300))}),$(document).on("click","div.vam",function(){var a=$("."+$("#vgo").val()),b=$(this).find("i");a.hasClass("icon-large")&&a.addClass("keep-large-icon").removeClass("icon-large"),a.hasClass("icon-lg")&&a.addClass("keep-lg-icon").removeClass("icon-lg"),a.hasClass("icon--lg")&&a.addClass("keep--lg-icon").removeClass("icon--lg"),a.hasClass("icon-sm")&&a.addClass("keep-sm-icon").removeClass("icon-sm"),a.hasClass("icon--sm")&&a.addClass("keep--sm-icon").removeClass("icon--sm"),Sb.forEach(function(b){a.alterClass(b.iconPrefix+"*",""),a.removeClass(b.iconClass)}),a.addClass(b.attr("icon-class")),a.hasClass("keep-large-icon")&&a.removeClass("keep-large-icon").addClass("icon-large"),a.hasClass("keep-lg-icon")&&a.removeClass("keep-lg-icon").addClass("icon-lg"),a.hasClass("keep--lg-icon")&&a.removeClass("keep--lg-icon").addClass("icon--lg"),a.hasClass("keep-sm-icon")&&a.removeClass("keep-sm-icon").addClass("icon-sm"),a.hasClass("keep--sm-icon")&&a.removeClass("keep--sm-icon").addClass("icon--sm"),Y(),gb()}),$(".vcn").on("click",function(){aa(),$.modal.close()}),$(".vco").get(0).addEventListener("drop",function(a){a.stopPropagation(),a.preventDefault();var b=a.dataTransfer.getData("URL");$(".vco").val(b),$(".vcp").attr("src",b)},!1),$(".vcp").get(0).addEventListener("drop",function(a){a.stopPropagation(),a.preventDefault();var b=a.dataTransfer.getData("URL");$(".vco").val(b),$(".vcp").attr("src",b)},!1),$(".vco").get(0).addEventListener("dragover",function(a){a.preventDefault(),a.stopPropagation()},!1),$(".vco, .vcf").keyup(function(a){13===a.keyCode&&(aa(),$.modal.close())}),$(".vhp").click(function(){$(".vdz,.vcl").toggleClass("vhr")}),$(".vcp").click(function(){$(".vhp").trigger("click")}),$(".vch").change(function(a){ba(a)}),$(".vee").click(function(){$(".vch").focus().trigger("click")}),$(document).on("click",".vcj",function(){var a=$(this).get(0);$(".vco").val($(this).attr("src").replace("../img/","img/")),$(".vcp").attr("src",$(this).attr("src")),$(".veb").text(a.naturalWidth+"x"+a.naturalHeight+" pixels"),$(".vdz,.vcl").toggleClass("vhr")}),$(document).on("click",".no-image",function(){ea(this)}),$(document).on("click",".viu img",function(){var a=$(this);a.hasClass("catch-double-click")?Z(a.attr("vic")):(a.addClass("catch-double-click"),setTimeout(function(){a.removeClass("catch-double-click")},300))}),$(document).on("mouseenter",".viu img[vic]:not(.viu ul.slides > li > img, .viu ul.slides .owl-item img, ul.slides .flickity-slider > li img, .voh img, ul.flickr-feed img )",function(a){$('[vof="'+$(this).attr("vic")+'"]').length||fa($(this).attr("vic"),$(this).attr("vic"))}),$(document).on("mouseenter",'.viu div[class*="col-"]',function(a){var b=$(this);b.find(".image-holder, .background-image-holder:not(.voh .background-image-holder, .viu .slides > li > img, .viu .slides .owl-item img, ul.slides .flickity-slider > li img, .viu .slides > li > .background-image-holder, .viu .slides .owl-item > li > .background-image-holder, .viu ul.slides .flickity-slider > li > .background-image-holder, .viu section > .background-image-holder, .viu header > .background-image-holder, .viu footer > .background-image-holder)").each(function(){var a=$(this);a.closest('div[class*="col-"]').find("div.hover-state").length&&!a.closest('div[class*="col-"]').find("div.hover-state").find(".vnv").length?$('[vof="'+a.find("img").attr("vic")+'"]').length||fa(a.find("img").attr("vic"),a.closest('div[class*="col-"]').find(".hover-state").attr("vic")):a.find(".vnv").length||$('[vof="'+a.find("img").attr("vic")+'"]').length||fa(a.find("img").attr("vic"),a.attr("vic"))})}),this.chooserImageError=function(a){$(a).parent().addClass("no-image"),$(a).parent().find(".vjn").html("Copy <strong>"+$(a).attr("vis")+"</strong> to your img folder then click here to refresh."),$(a).css("display","none")},this.defaultImageError=function(a){$(a).parent().remove(),$(a).remove()},$(".ved").click(function(){$(".vef").focus().trigger("click")}),$(".vef").change(function(a){"variant"===$(this).val().split(".").pop()?ga(a):xb("Please select a .variant file","Variant cannot import plain HTML files. <br /><br />You can import .variant files that have been exported from Variant here, or by someone else.")}),$(".veh").change(function(a){$(".vcu").val($(this).val())}),$(".vcu").keyup(function(a){13===a.keyCode&&""!==$(".vcu").val()&&(ia(),$.modal.close())}),$(".vcx").on("click",function(){ia(),$.modal.close()}),$(document).on("click",".viu a, .viu nav a, .viu header a",function(){var a=$(this);return a.hasClass("catch-double-click")?ha(a.attr("vic")):(a.addClass("catch-double-click"),setTimeout(function(){a.removeClass("catch-double-click")},300)),!1}),$(document).on("mouseenter",".viu .voh:not(.vib, .vjb)",function(a){var b,c,d,e,f="",g=$(".viu ."+$(this).attr("vic")),h=g.parent().find(".voh").not(".vjb , .vib").length>1?!0:!1,m=Lb(g,".voh"),n=Mb(g,".voh");b=$('<div class="vnw"></div>'),h&&!m&&(e=U("arrow-thick-left","Sort Previous"),$(e).unbind("click").bind("click",function(a){return k(g.attr("vic"),!0),a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),b.append(e)),h&&(c=U("minus","Delete"),$(c).unbind("click").bind("click",function(a){return j(g.attr("vic"),g.is(".vrp")),a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),b.append(c)),moleculeImages=g.find("img:not(.vib)"),moleculeImages.each(function(){var a=$(this);b.append(fa(a.attr("vic"),!1))}),Wb.options.forEach(function(a){g.is(a.selector)&&(attributeButton=Ja(a,!1,g.attr("vic")),b.append(attributeButton)),g.find(a.selector).length&&(attributeButton=Ja(a,!1,g.find(a.selector).first().attr("vic")),b.append(attributeButton))}),d=U("plus","Clone"),$(d).unbind("click").bind("click",function(a){return i(g.attr("vic"),!0),a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),b.append(d),h&&!n&&(f=U("arrow-thick-right","Sort Next"),$(f).unbind("click").bind("click",function(a){return l(g.attr("vic"),!0),a.stopPropagation&&a.stopPropagation(),a.returnValue=!1,!1}),b.append(f)),g.append(b)}),$(document).on("keyup paste input",".vgb",function(){""!==$(this).val()?$(".vga").removeClass("vih"):$(".vga").addClass("vih")}),$(".vgb").keyup(function(a){13===a.keyCode&&""!==$(".vgb").val()&&(ma(),$.modal.close())}),$(".vga").on("click",function(){ma(),$.modal.close()}),$(document).on("keyup paste input",'.nav-container .vhz [contenteditable="true"], header.vhz [contenteditable], [vqj].modal-container.vhz [contenteditable]',function(){pa()}),$(document).on("keyup paste input",".nav-container .vir[nav-id] [contenteditable], header.vir, [vqj].modal-container.vir",function(){var a=$(this);a.is("[vqj]")&&$('#veu [vqj="'+a.attr("vqj")+'"]').removeClass("vir").addClass("vhz"),la($(this)),$(this).removeClass("vir").addClass("vhz")}),$(".vfo").click(function(){$(".vmm").closest(".vkq").remove(),$(this).closest(".vho").removeClass("vhr");var a=$(this).text();$(this).closest(".vho").find(".vly").text(a),
ra()}),$(document).on("click",".vby",function(){var a=$(this).parent().attr("nav-id");$(this).parent().remove(),$("."+a).remove(),pa()}),$(document).on("click",".vfi",function(){qa($(this).attr("nav-id"),!0),$(this).closest(".vho").removeClass("vhr");var a=$(this).text();$(this).closest(".vho").find(".vly").text(a)}),$(document).on("click",".vfg",function(){var a=$("."+va());$(".vev").each(function(){var b=$(this).data("vff");b.forEach(function(b){a.removeClass(b.className)})}),a.addClass($(this).attr("nav-class")),gb(),pc()}),$(".vgk").click(Ha),$(".vdh").click(Ha),$(document).on("click",".vks",function(){var a=$(this).parent().attr("optionalclass"),b=$(this).parent().attr("classtarget");$(this).hasClass("vkr")||($(this).parent().find(".vks").toggleClass("vkr"),$(this).hasClass("choice-button-on")?$(b).addClass(a):$(b).removeClass(a)),$(b).each(function(){""===$(this).attr("class")&&$(this).removeAttr("class")}),$(this).hasClass("refresh")&&pc(b),gb()}),$(document).on("click",".vkt",function(a){var b=$(this).parent().attr("optionalClass"),c=$(this).parent().attr("classtarget"),d="";a.stopPropagation(),$(this).hasClass("vku")?($(c).removeClass(b),d=!1):($(c).addClass(b),d=!0),$(this).toggleClass("vku"),$(c).each(function(){""===$(this).attr("class")&&$(this).removeAttr("class")}),$(this).hasClass("refresh")&&pc(c),"parallax"===b&&(wb(),"undefined"!=typeof window.mr_parallax&&window.mr_parallax.callback(c)),"scroll-assist"===b&&"undefined"!=typeof window.mr_parallax&&(window.mr_parallax.mr_scrollAssist=d),gb()}),$(document).on("click",".vkv",function(){var a=$(this).attr("optionalclass"),b=$(this).parent().attr("classtarget");$(this).hasClass("vkr")||(removeClass=$(this).parent().find(".vkv.vkw").attr("optionalclass"),$(this).parent().find(".vkv").removeClass("vkw"),$(this).addClass("vkw"),$(b).removeClass(removeClass).addClass(a)),$(b).each(function(){""===$(this).attr("class")&&$(this).removeAttr("class")}),gb(),$(this).hasClass("refresh")&&pc(b)}),$(document).on("click",".vno",function(){Ga("."+$(this).attr("vnr"),$(this).data("vnq"),!0)}),$(".vbj").on("click",function(){Ia(),$.modal.close()}),$(".vbg").keyup(function(a){13===a.keyCode&&(Ia(),$.modal.close())}),$(document).on("click",".vgc:not(.vqg)",function(){fb(),$(".vfw").removeClass("empty-vfw")}),$(".vpt").click(function(){pageLoaded===!0&&gb();var a=$(".vge .vjl");a.attr("vpx",a.text()).text("New Page");var b=$(".vge .vew p:first");b.attr("vpx",b.text()).text("Give your new page a name."),fb("vhd"),$(".vfw").removeClass("empty-vfw")}),$(document).on("keyup paste input",".vgf",function(){""!==$(this).val()?$(".vgd").removeClass("vih"):$(".vgd").addClass("vih")}),$(".vgf").keyup(function(a){13===a.keyCode&&""!==$(".vgf").val()&&(hb(!0),$.modal.close())}),$(".vgd").on("click",function(){""!==$(".vgf").val()&&(hb(),$.modal.close())}),$(document).on("click",".ves",function(){ib($(this).attr("state-id"))}),$(document).on("click",".vdj",function(){return p($(this).parent().attr("state-id")),!1}),$(document).on("click",".vbz",function(){var a=$(this).parent(),b=a.attr("state-id"),c=a.attr("vjh");return yb("Confirm Delete","Are you sure you want to delete "+c+"?","Delete",function(){kb(b)}),!1}),$(document).on("click",".vpy",function(){var a=$(this).parent().attr("state-id"),b=$(this).parent().attr("vjh"),c=$(".vge .vjl"),d=$(".vge .vew p:first"),e=$(".vge .vgf");return c.attr("vpx",c.text()).text("Rename "+b),d.attr("vpx",d.text()).text("Give your page a new name."),e.attr("viy",a),e.attr("vqa",b),e.val(b),fb("vpz"),!1}),$(".vei").on("blur keyup paste input",function(){var a="undefined"==typeof $(this).val()?"":$(this).val();document.title=""!==a?a:defaultPageTitle,$.localStorage(ac+".vhh")?($('#vhl [viy="'+$.localStorage(ac+".vhh")+'"]').attr("page-title",a),$.localStorage(ac+".vhk",$("#vhl").html())):$.localStorage(ac+".vhj",a),gb()}),$(document).on("click focus blur keyup paste input",".vei.vlx",function(){$.localStorage(ac+".vhh",""),$.localStorage(ac+".vhg",""),$(".vhe").addClass("vih"),$(this).removeClass("vlx")}),$(".vpp").on("blur keyup paste input",function(){gb()}),$(".vpq").on("blur keyup paste input",function(){gb()});var pc=function(a){function b(a){var b=".viu";"undefined"!=typeof a&&(b=".viu "+a),$(b).find("[no-src]").each(function(){$(this).attr("src",$(this).attr("no-src")).removeAttr("no-src")})}var c,d=$(".viu").get(0).scrollTop;$(".viu "+$("body").attr("mrv_contentTarget"));$(".viu").empty().html($("#veu").html()),c=$(".viu ."+a).closest("footer").length?"footer":"section",c=$(".viu ."+a).closest(c).attr("vic"),$('.vqm[vnt="'+c+'"]').length&&Ua(c),setTimeout(function(){"undefined"==typeof mr?(b(),reInit(".viu")):(b(),mr.documentReady(mr.setContext(".viu")),mr.windowLoad(mr.setContext(".viu"))),Bb(),Cb(),$(".viu .embedded-video-holder").each(function(){$(this).addClass("vju")}),wb(),$(".viu").get(0).scrollTop=d,$(".viu .vnx").trigger("mouseenter")},100)},qc=_.debounce(pc,1e3),Xb={};$(".vhv").on("submit",".vqm form",function(){return!1}),Xb.controlTitle={},Xb.controlTitle.render=function(a,b){var c=$("<div>"),d=$("<span>"),e="undefined"!=typeof b?$("<div>"):!1;return c.addClass("vqt"),d.addClass("vqu").text(a),c.append(d),e&&(e.addClass("vqv").attr("vrg",b).text("?"),c.append(e)),c},Xb.images={},Xb.images.render=function(a){var b=$("<div>"),c=Xb.controlTitle.render("Images","Images in the section are shown here, click a thumbnail to change the image."),d=$("<ul>");return b.addClass("vqq"),d.addClass("vqw").attr("vrf",a.length),$(a).each(function(){var a=$("<li>"),b=$("<img>"),c=$(this),e=c.attr("vic");b.attr("alt","Image Thumbnail").attr("src",c.attr("src")).addClass(e).attr("vic",e),a.append(b),d.append(a)}),b.append(c).append(d),b},$(document).on("click",".vhv .vqm .vqw li img",function(){Z($(this).attr("vic"))}),Xb["switch"]={},Xb["switch"].render=function(a,b){var c=Xb.controlTitle.render(a.title,a.explainer),d=$("<div>"),e=$("<div>"),f=$("<div>"),g=_.isUndefined(a.attribute)?b.hasClass(a.onClass)?!0:!1:a.masterTarget.attr(a.attribute)===a.onProperty?!0:!1;return e.addClass("vqx").append(f),g&&e.addClass("vhr"),d.addClass("vqq vqs").append(c).append(e),d.data(a),d},Xb["switch"].handle=function(a){var b=a.data();"undefined"!=typeof b.attribute?(b.target.attr(b.attribute,b.state?b.onProperty:b.offProperty),""===b.target.attr(b.attribute)&&b.target.removeAttr(b.attribute)):b.target.addClass(b.state?b.onClass:b.offClass).removeClass(b.state?b.offClass:b.onClass),gb(),"undefined"!=typeof b.callback&&Rb(b.callback,window,b.targetSelector),"undefined"!=typeof b.refresh&&("true"===b.refresh||b.refresh===!0)&&pc(b.targetID)},$(document).on("click",".vhv .vqm .vqx",function(){var a=$(this).closest(".vqq");$(this).toggleClass("vhr");var b=$(this).is(".vhr")?!0:!1;a.data("state",b),Xb["switch"].handle(a)}),Xb.slider={},Xb.slider.render=function(a,b){var c,d=Xb.controlTitle.render(a.title,a.explainer),e=$("<div>"),f=$("<form>"),g=$("<input>"),h=$("<ul>");return g.addClass("vrd").attr("type","range").attr("min","0").attr("max",a.options.length-1),f.append(g),h.addClass("vre").attr("vrf",a.labels.length),$(a.labels).each(function(){$("<li>").text(this).appendTo(h)}),"undefined"!=typeof a.attribute?(c=b.attr(a.attribute),g.attr("value",$.inArray(c,a.options)).attr("title",a.title+": "+c)):$(a.options).each(function(a,c){b.hasClass(c)&&g.attr("value",a).attr("title",c.title+": "+this)}),e.addClass("vqq").append(d).append(f).append(h),e.target,e.data(a),e},Xb.slider.handle=function(a){var b=a.closest(".vqq");data=b.data(),value=parseInt(a.val(),10),selectedOption=data.options[value],"undefined"!=typeof data.attribute?""===selectedOption?data.target.removeAttr(data.attribute):data.target.attr(data.attribute,selectedOption):($(data.options).each(function(a,b){data.target.removeClass(b)}),data.target.addClass(selectedOption)),!_.isUndefined(data.titles)&&_.isArray(data.titles)?a.attr("title",data.title+": "+data.titles[value]):a.attr("title",data.title+": "+selectedOption),"undefined"!=typeof data.callback&&Rb(data.callback,window,data.targetSelector),"undefined"!=typeof data.refresh&&("true"===data.refresh||data.refresh===!0)&&qc(data.targetID),hc()},$(".vhv").on("change, input",".vqm .vrd",function(a){Xb.slider.handle($(this))}),Xb.text={},Xb.text.render=function(a,b,c){var d=Xb.controlTitle.render(a.title,a.explainer),e=$("<div>"),f=$("<form>"),g=$("<input>");return e.addClass("vqq"),g.addClass("vrc").attr("type","text").attr("placeholder",a.placeholder).attr("name",a.title),"undefined"!=typeof a.masterTarget.attr(a.attribute)&&g.val(a.masterTarget.attr(a.attribute)),f.append(g),e.append(d).append(f),g.data(a),e},Xb.text.handle=_.debounce(function(a){var b=a.data(),c=a.val(),d=a.getCursorPosition();a.closest(".vqm").data("focussedElementValue",a.val()).data("focussedElementAttribute",b.attribute).data("cursorPosition",d),""!==c&&(b.masterTarget.attr(b.attribute,c),hc(),"undefined"!=typeof b.callback&&Rb(b.callback,window,b.targetSelector),"undefined"!=typeof b.refresh&&("true"===b.refresh||b.refresh===!0)&&pc(b.targetID))},700),$(".vhv").on("keyup paste",".vqm .vrc",function(a){_.contains([37,38,39,40],a.which)||Xb.text.handle($(this))}),Xb.choice={},Xb.choice.render=function(a){var b,c,d=Xb.controlTitle.render(a.title,a.explainer),e=$("<div>"),f=$("<ul>");return e.addClass("vqq"),f.addClass("vqy").attr("vrf",a.options.length),"multi"===a.type&&f.addClass("vra"),"undefined"!=typeof a.required&&(a.required===!0||"true"===a.required)&&f.addClass("vrb"),$(a.options).each(function(d,e){var g=$("<li>"),h="";h="undefined"!=typeof e.onClass?e.onClass:h,h="undefined"!=typeof e.onProperty?e.onProperty:h,"undefined"!=typeof e.colourClass&&(f.addClass("vqz"),g.addClass(e.colourClass)),"undefined"!=typeof e.html&&g.html(e.html),"multi"===a.type?"undefined"!=typeof e.offClass&&(a.masterTarget.hasClass(e.offClass)||a.masterTarget.hasClass(e.onClass)&&(g.addClass("vhr"),c=!0),_.isUndefined(e.offClass)||""===e.onClass&&(a.masterTarget.hasClass(e.offClass)||(g.addClass("vhr"),c=!0))):""!==h?"undefined"!=typeof a.attribute?a.masterTarget.attr(a.attribute,h)&&(g.addClass("vhr"),c=!0):(a.masterTarget.hasClass(h)&&(g.addClass("vhr"),c=!0),_.isUndefined(e.offClass)||""===e.onClass&&(a.masterTarget.hasClass(e.offClass)||(g.addClass("vhr"),c=!0))):b=g,g.data(a),g.data("subOption",e),f.append(g)}),c||b.addClass("vhr"),e.append(d).append(f),e},Xb.choice.handle=function(a){var b,c=a.data();b=_.pluck(c.options,"onClass"),_.each(b,function(a){c.target.removeClass(a)}),c.target.addClass(c.subOption.onClass),gb(),"undefined"!=typeof c.callback&&Rb(c.callback,window,c.targetSelector),"undefined"!=typeof c.refresh&&("true"===c.refresh||c.refresh===!0)&&pc(c.targetID)},$(document).on("click",".vhv .vqm .vqy li:not(.vra li)",function(){$(this).addClass("vhr"),$(this).siblings().removeClass("vhr");$(this).is(".vhr")?!0:!1;Xb.choice.handle($(this))}),Xb.multi={},Xb.multi.render=Xb.choice.render,$(document).on("click",".vhv .vqm .vqy.vra li",function(){var a=$(this),b=a.is(".vhr")?!0:!1;return a.closest(".vra").is(".vrb")&&b&&!a.siblings("li.vhr").length?!1:($(this).toggleClass("vhr"),b=b?!1:!0,$(this).data("state",b),void Xb.multi.handle($(this)))}),Xb.multi.handle=function(a){var b=a.data();b.state?(b.target.removeClass(b.subOption.offClass).addClass(b.subOption.onClass),a.attr("title",b.subOption.onTitle)):(b.target.removeClass(b.subOption.onClass).addClass(b.subOption.offClass),a.attr("title",b.subOption.offTitle)),gb(),"undefined"!=typeof b.callback&&Rb(b.callback,window,b.targetSelector),"undefined"!=typeof b.refresh&&("true"===b.refresh||b.refresh===!0)&&pc(b.targetID)},Xb.button={},Xb.button.render=function(a,b,c){var d=Xb.controlTitle.render(a.title,a.explainer),e=$("<div>"),f=$("<div>");return f.addClass("vrq").text(a.buttonText),e.addClass("vqq vqs").append(d).append(f),f.data(a),e},$(document).on("click",".vhv .vqm div.vrq",function(){Xb.button.handle($(this))}),Xb.button.handle=function(a){var b=a.data();b.context=_.isUndefined(b.context)?variant:b.context,"undefined"!=typeof b.callback&&Rb(b.callback,b.context,b.targetID)},$(document).on("click",".section-vgw",function(){$(".vqm").addClass("vhr"),$(".section-vgw").remove();var a=$(this).attr("vnt");return $(".viu, .viu ."+a+", #veu ."+a).addClass("vrh"),Ua(a),!1}),$(document).on("click",".close-vqm, .viu, .vjc",function(){Ra()}),$(document).on("contextmenu",".vqm, .vni",function(a){a.stopPropagation(),$(this).trigger("click")}),$(document).on("click",".vca",function(){var a=$(this).attr("vbq");$("#veu ."+a).remove(),$(".viu ."+a).remove(),$("[vik="+a+"]").remove(),$(this).parent().remove(),pc(),$(".vem").find(".vaa").length?$(".vem").removeClass("empty-vem"):$(".vem").addClass("empty-vem"),$(".viu .vnj").remove(),vb(),wb()}),$(document).on("keydown",".vaa span",function(a){return 13===a.keyCode?(a.stopPropagation(),!1):void 0}),$(document).on("keyup paste input",".vaa span",function(a){return 13===a.keyCode?(a.stopPropagation(),!1):(Va($(this).closest(".vaa")),ja($(this)),gb(),!0)}),$(".vap").click(function(){$('.vfj [vit="vhz"]').remove(),$("#vbn").html(""),$.localStorage(ac+".vbo",""),$(".vap").html("Cleared").removeClass("val").addClass("vak"),setTimeout(function(){$(".vap").html("Clear Navs").removeClass("vak").addClass("val")},1500)}),$(".vao").click(function(){$('.vdm [vit="vhz"]').remove(),$.localStorage(ac+".vbm",""),$(".vao").html("Cleared").removeClass("val").addClass("vak"),setTimeout(function(){$(".vao").html("Clear Footers").removeClass("vak").addClass("val")},1500)}),$(".vaq").click(function(){var a;$("#vhl li").each(function(){var a,b=$(this).attr("viy");a=$.localStorage.io(ac+".state.veu."+b),a.remove(),a=$.localStorage.io(ac+".state.vem."+b),a.remove(),$(this).remove()}),$(".vfw div").remove(),$(".vfw").addClass("empty-vfw"),a=$.localStorage.io(ac+".state.veu"),a.remove(),a=$.localStorage.io(ac+".state.vem"),a.remove(),a=$.localStorage.io(ac+".vhj"),a.remove(),a=$.localStorage.io(ac+".vhh"),a.remove(),a=$.localStorage.io(ac+".vhg"),a.remove(),a=$.localStorage.io(ac+".vhk"),a.remove(),$(".vaq").html("Cleared").removeClass("val").addClass("vak"),setTimeout(function(){$(".vaq").html("Clear Pages").removeClass("vak").addClass("val")},1500)}),$(".vpc").click(function(){$.localStorage(ac+".gallery.images",""),setTimeout(function(){$(".vpc").html("Rebooting").removeClass("vak").addClass("val"),window.location.reload()},1500)}),$(".van").click(function(){$(".vfw div").remove(),$("#vhl li").remove(),window.localStorage.clear(),$(".van").html("Cleared").removeClass("val").addClass("vak"),setTimeout(function(){$(".van").html("Rebooting").removeClass("vak").addClass("val"),window.location.reload()},1500)}),$(".viu").click(function(){$(".vjq").removeClass("vgq")}),$(".vjq .vex").click(function(){$(this).closest(".vjq").removeClass("vgq")}),$(".vgw").click(function(){$(".vkm").toggleClass("vme"),$(".vgw").toggleClass("vmg")}),$(".vjc").mouseenter(function(){$(".vkm").removeClass("vjz")}),$(".vlf li").click(function(){$(".vlf li").removeClass("vhr"),$(this).addClass("vhr");var a=$(this).index()+1;$(".vlp").removeClass("vhr"),$(".vlp:nth-child("+a+")").addClass("vhr")}),$(".vac").click(function(){_a(),$(".vgm").click(),$(".vlv").toggleClass("vmf"),$(".vlv").find(".vho").removeClass("vhr"),vb()}),$(".vma").click(function(){$(".vgi").toggleClass("vhr"),$(this).toggleClass("vhr")}),$(".vgh").click(function(){$(".vgi").removeClass("vhr"),$(".vma").removeClass("vhr")}),$(".vlm").click(function(){$a()}),$(".vho span").click(function(){$(this).closest(".vho").toggleClass("vhr"),setTimeout(function(){vb()},301)}),$(document).on("click",".vgl",function(){var a=$(this);a.hasClass("catch-double-click")?$(".vad").toggleClass("vhr"):(a.addClass("catch-double-click"),setTimeout(function(){a.removeClass("catch-double-click")},300),Ya($(this).attr("vgv"))),$(".vem").removeClass("empty-vem"),vb()}),$(".vev").each(function(){var a=($(this).data("vjt"),$(this).attr("id"));$(".vfj").append('<li class="vfi" nav-id="'+a+'" vit="vir">'+$(this).attr("data-vjt")+"</li>")}),$("#vdk .vim").each(function(){var a=$(this).attr("vbr"),b=$(this).attr("id");$(".vdm").append('<li class="vdl" vid="'+b+'" vit="vir">'+a+"</li>")}),$(document).on("click",".vgr",function(){$(".vib").toggleClass("vib vjb"),$(this).toggleClass("vhr vdv vgr")}),$(document).on("click",".vdv",function(){$(".vjb").toggleClass("vib vjb"),$(this).toggleClass("vgr vdv vhr")}),$(document).on("click",".vgh",function(){if($(".vgh").removeClass("vhr"),$(this).addClass("vhr"),"*"===$(this).attr("vbp"))return $(".vgl").removeClass("vih"),void $(".vma span").text("All");$(".vgl").addClass("vih"),$('.vgl[vbp*="'+$(this).attr("vbp")+'"]').removeClass("vih");var a=$(this).text();$(".vma span").text(a),vb()}),$(document).on("mouseenter",".viu ul.slides:not(.vjx)",function(a){var b=$(this);try{b.parent().flexslider("pause")}catch(c){}try{b.closest(".slider").flexslider("pause")}catch(c){}try{b.trigger("stop.owl.autoplay")}catch(c){}try{b.closest(".slider").length&&b.flickity("pausePlayer")}catch(c){}b.addClass("paused"),$("#veu .vnx").removeClass("vnx"),db(b.attr("vic")),$("#veu ."+b.attr("vic")).addClass("vnx")}),$(document).on("mouseleave",".viu ul.slides.paused:not(.vjx)",function(a){var b=$(this);try{b.parent().flexslider("play")}catch(c){}try{b.closest(".slider").flexslider("play")}catch(c){}try{b.closest(".slider").length&&b.flickity("unpausePlayer")}catch(c){}b.removeClass("paused")}),hc=_.debounce(gb,400),-1!==navigator.userAgent.indexOf("NT 6.")&&$("head").append("<style>::-webkit-scrollbar { width: 8px; background-color: rgba(0,0,0,0); -webkit-border-radius: 100px; } ::-webkit-scrollbar-thumb:vertical { background: rgba(0,0,0,0.3); -webkit-border-radius: 100px; } </style>"),$(".vet").click(function(){$(".vet").addClass("vih"),ib()}),$(".vhd").click(function(){Na(!0),bb()}),$(document).on("blur keyup paste input",".viu [contenteditable], .viu strong",function(a){var b,c=$(this);"paste"===a.type&&(a.preventDefault(),b=(a.originalEvent||a).clipboardData.getData("text/plain").replace(/\n/g,"<br>"),document.execCommand("insertHtml",!1,b)),c.children().length?""===c.html()&&c.html("&nbsp;"):""===c.text()&&c.text(" "),$("#veu ."+c.attr("vic")).html(c.html()),gb()}),$(document).on("keydown",".viu [contenteditable]",function(a){return 13===a.keyCode?Pb(a)?!0:!1:void 0}),$(document).on("keydown",'.viu [type="submit"]',function(a){return 32===a.keyCode?Qb(a)?!0:!1:void 0}),$(document).on("blur keyup paste input",".vir:not(nav,header,footer,[vqj],[nav-id])",function(){$(this).removeClass("vir").addClass("vhz")}),$(".viu").on("mouseenter","p , span, a, h1, h2, h3, h4, h5, h6, strong, em, li, ul, div, i, img, input, textarea, blockquote, figcaption, td, th, label, address",function(){$(this).addClass("vdw")}),$(".viu").on("mouseleave","p , span, a, h1, h2, h3, h4, h5, h6, strong, em, li, ul, div, i, img, input, textarea, blockquote, figcaption, td, th, .vnu, label, address",function(){$(this).removeClass("vdw")}),$(".viu").on("mouseenter","section, header, footer",function(){Ta($(this).attr("vic"))}),$(document).on("mouseenter",'[vic] [class*="medium-"]',function(a){ic=$(this).attr("vic")}),$(document).on("mouseenter",'[vic] [class*="col-md-"]',function(a){ic=$(this).attr("vic")}),$(document).on("mouseenter",'[vic] [class*="col-sm-"]:not([class*="col-md-"])',function(a){ic=$(this).attr("vic")}),$(document).on("mouseenter",'[vic] [class*="col-xs-"]:not([class*="col-md-"])',function(a){ic=$(this).attr("vic")}),$(document).on("keyup",document,function(a){ic.length&&a.ctrlKey&&(219===a.keyCode&&o(ic),221===a.keyCode&&n(ic))}),$(document).on("click","a.vjx",function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,!1}),$("img").on("dragstart",function(a){a.preventDefault()}),$(document).on("submit",".viu form",function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,!1}),$(document).on("click",".vjb",function(){$(this).removeClass("vjb vib").addClass("vjm"),$("#veu ."+$(this).attr("vic")).removeClass("vjb vib").addClass("vjm"),$(this).attr("vjw")&&(also=$(this).closest("nav, header, section, footer").find($(this).attr("vjw")).attr("vic"),$(".viu ."+also).removeClass("vjb vib").addClass("vjm"),$("#veu ."+also).removeClass("vjb vib").addClass("vjm")),pa(),t(),gb()}),$(document).on("mouseleave",'.viu .vnu, .viu div[class*="col-"], .viu .embed-video-container, .viu .local-video-container, .viu .media-embed-container, .viu ul.slides, .viu .slider, .viu .voh',function(a){window.mr_variant.removeIconButtons===!0&&$(this).find(".vnw").remove()}),$(".vdf").on("click",function(){Hb(),$.modal.close()}),$(".vda, .vdg, .vdb").keyup(function(a){13===a.keyCode&&(Hb(),$.modal.close())}),$(document).on("mouseenter",".viu .embed-video-container:not(.voh .embed-video-container, .viu .slides > li > .embed-video-container), .viu .media-embed-container:not(.voh .media-embed-container, .viu .slides > li > .media-embed-container)",function(){var a=$('<div class="vnw"></div>'),b=$(this).find("iframe");Wb.options.forEach(function(c){b.is(c.selector)&&(attributeButton=Ja(c,!1,b.attr("vic")),a.append(attributeButton))}),b.closest(".embed-video-container, .media-embed-container").append(a)}),$(document).on("mouseenter",".viu .local-video-container video:not(.voh .local-video-container video, .viu .slides > li > .local-video-container video, .viu .slides .owl-item > li > .local-video-container video)",function(){var a=$(this).closest(".local-video-container").find(".vnw").length?$(this).closest(".local-video-container").find(".vnw"):$('<div class="vnw"></div>'),b=$(this);a.find('[vof="'+b.attr("vic")+'"]').length||(editVideoButton=Fb(b.attr("vic"),!1),a.append(editVideoButton),b.closest(".local-video-container").append(a))}),$.fn.focusEnd=function(){$(this).focus();var a=$("<span />").appendTo($(this)),b=a.get(0),c=null,d=null;return document.selection?(c=document.body.createTextRange(),c.moveToElementText(b),c.select()):window.getSelection&&(c=document.createRange(),c.selectNode(b),d=window.getSelection(),d.removeAllRanges(),d.addRange(c)),a.remove(),this},function(a,b){a.fn.selectRange=function(a,c){return c===b&&(c=a),this.each(function(){if("selectionStart"in this)this.selectionStart=a,this.selectionEnd=c;else if(this.setSelectionRange)this.setSelectionRange(a,c);else if(this.createTextRange){var b=this.createTextRange();b.collapse(!0),b.moveEnd("character",c),b.moveStart("character",a),b.select()}})}}(window.jQuery),function(a,b){a.fn.getCursorPosition=function(){var b=a(this).get(0),c=0;if("selectionStart"in b)c=b.selectionStart;else if("selection"in document){b.focus();var d=document.selection.createRange(),e=document.selection.createRange().text.length;d.moveStart("character",-b.value.length),c=d.text.length-e}return c}}(window.jQuery)}window.mr_variant=new Variant;